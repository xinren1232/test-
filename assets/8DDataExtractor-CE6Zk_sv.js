import d from"./8DReportAnalyzer-BsKXd43f.js";class g{constructor(){this.analyzer=d,this.extractionRules=this.initializeExtractionRules(),this.validationRules=this.initializeValidationRules(),this.qualityMetrics=this.initializeQualityMetrics()}initializeExtractionRules(){return{D1:{patterns:{teamMembers:[/å›¢é˜Ÿæˆå‘˜[ï¼š:]?\s*([^ã€‚\n]+)/gi,/æˆå‘˜[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Team\s+Members?[ï¼š:]?\s*([^ã€‚\n]+)/gi],roles:[/è§’è‰²[ï¼š:]?\s*([^ã€‚\n]+)/gi,/èŒè´£[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Role[s]?[ï¼š:]?\s*([^ã€‚\n]+)/gi],leader:[/ç»„é•¿[ï¼š:]?\s*([^ã€‚\n]+)/gi,/è´Ÿè´£äºº[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Leader[ï¼š:]?\s*([^ã€‚\n]+)/gi],contact:[/è”ç³»æ–¹å¼[ï¼š:]?\s*([^ã€‚\n]+)/gi,/ç”µè¯[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Contact[ï¼š:]?\s*([^ã€‚\n]+)/gi]},requiredFields:["teamMembers","roles","leader"],optionalFields:["contact"],validationRules:{minTeamSize:3,maxTeamSize:10,requiredRoles:["ç»„é•¿","æŠ€æœ¯ä¸“å®¶","è´¨é‡å·¥ç¨‹å¸ˆ"]}},D2:{patterns:{problemDescription:[/é—®é¢˜æè¿°[ï¼š:]?\s*([^D\d]+)/gi,/é—®é¢˜ç°è±¡[ï¼š:]?\s*([^D\d]+)/gi,/Problem\s+Description[ï¼š:]?\s*([^D\d]+)/gi],occurrence:[/å‘ç”Ÿæ—¶é—´[ï¼š:]?\s*([^ã€‚\n]+)/gi,/æ—¶é—´[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Occurrence[ï¼š:]?\s*([^ã€‚\n]+)/gi],impact:[/å½±å“èŒƒå›´[ï¼š:]?\s*([^ã€‚\n]+)/gi,/å½±å“[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Impact[ï¼š:]?\s*([^ã€‚\n]+)/gi],severity:[/ä¸¥é‡ç¨‹åº¦[ï¼š:]?\s*([^ã€‚\n]+)/gi,/ç­‰çº§[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Severity[ï¼š:]?\s*([^ã€‚\n]+)/gi],customer:[/å®¢æˆ·[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Customer[ï¼š:]?\s*([^ã€‚\n]+)/gi]},requiredFields:["problemDescription","occurrence","impact"],optionalFields:["severity","customer"],validationRules:{minDescriptionLength:50,requiresQuantification:!0,mustHaveTimeframe:!0}},D3:{patterns:{interimActions:[/ä¸´æ—¶æªæ–½[ï¼š:]?\s*([^D\d]+)/gi,/åº”æ€¥æªæ–½[ï¼š:]?\s*([^D\d]+)/gi,/Interim\s+Actions?[ï¼š:]?\s*([^D\d]+)/gi],implementation:[/å®æ–½æ—¶é—´[ï¼š:]?\s*([^ã€‚\n]+)/gi,/æ‰§è¡Œæ—¶é—´[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Implementation[ï¼š:]?\s*([^ã€‚\n]+)/gi],verification:[/æ•ˆæœéªŒè¯[ï¼š:]?\s*([^ã€‚\n]+)/gi,/éªŒè¯[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Verification[ï¼š:]?\s*([^ã€‚\n]+)/gi],responsible:[/è´Ÿè´£äºº[ï¼š:]?\s*([^ã€‚\n]+)/gi,/è´£ä»»äºº[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Responsible[ï¼š:]?\s*([^ã€‚\n]+)/gi]},requiredFields:["interimActions","implementation","verification"],optionalFields:["responsible"],validationRules:{mustBeTemporary:!0,requiresVerification:!0,timeframeDefined:!0}},D4:{patterns:{rootCause:[/æ ¹æœ¬åŸå› [ï¼š:]?\s*([^D\d]+)/gi,/æ ¹å› [ï¼š:]?\s*([^D\d]+)/gi,/Root\s+Cause[ï¼š:]?\s*([^D\d]+)/gi],analysisMethod:[/åˆ†ææ–¹æ³•[ï¼š:]?\s*([^ã€‚\n]+)/gi,/æ–¹æ³•[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Method[ï¼š:]?\s*([^ã€‚\n]+)/gi],evidence:[/è¯æ®[ï¼š:]?\s*([^ã€‚\n]+)/gi,/éªŒè¯ç»“æœ[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Evidence[ï¼š:]?\s*([^ã€‚\n]+)/gi],tools:[/å·¥å…·[ï¼š:]?\s*([^ã€‚\n]+)/gi,/ä½¿ç”¨å·¥å…·[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Tools?[ï¼š:]?\s*([^ã€‚\n]+)/gi]},requiredFields:["rootCause","analysisMethod","evidence"],optionalFields:["tools"],validationRules:{requiresSystematicAnalysis:!0,mustHaveEvidence:!0,knownMethods:["5Why","é±¼éª¨å›¾","FMEA","å› æœå›¾"]}},D5:{patterns:{correctiveActions:[/æ°¸ä¹…æªæ–½[ï¼š:]?\s*([^D\d]+)/gi,/çº æ­£æªæ–½[ï¼š:]?\s*([^D\d]+)/gi,/Corrective\s+Actions?[ï¼š:]?\s*([^D\d]+)/gi],implementation:[/å®æ–½è®¡åˆ’[ï¼š:]?\s*([^ã€‚\n]+)/gi,/è®¡åˆ’[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Plan[ï¼š:]?\s*([^ã€‚\n]+)/gi],expectedEffect:[/é¢„æœŸæ•ˆæœ[ï¼š:]?\s*([^ã€‚\n]+)/gi,/æ•ˆæœ[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Expected\s+Effect[ï¼š:]?\s*([^ã€‚\n]+)/gi],verification:[/éªŒè¯æ–¹æ³•[ï¼š:]?\s*([^ã€‚\n]+)/gi,/éªŒè¯[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Verification[ï¼š:]?\s*([^ã€‚\n]+)/gi]},requiredFields:["correctiveActions","implementation","expectedEffect"],optionalFields:["verification"],validationRules:{mustAddressRootCause:!0,requiresTimeline:!0,mustBeVerifiable:!0}},D6:{patterns:{implementationStatus:[/å®æ–½çŠ¶æ€[ï¼š:]?\s*([^ã€‚\n]+)/gi,/çŠ¶æ€[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Status[ï¼š:]?\s*([^ã€‚\n]+)/gi],verificationResults:[/éªŒè¯ç»“æœ[ï¼š:]?\s*([^ã€‚\n]+)/gi,/ç»“æœ[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Results?[ï¼š:]?\s*([^ã€‚\n]+)/gi],effectiveness:[/æ•ˆæœè¯„ä¼°[ï¼š:]?\s*([^ã€‚\n]+)/gi,/è¯„ä¼°[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Effectiveness[ï¼š:]?\s*([^ã€‚\n]+)/gi],completion:[/å®Œæˆæ—¶é—´[ï¼š:]?\s*([^ã€‚\n]+)/gi,/å®Œæˆ[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Completion[ï¼š:]?\s*([^ã€‚\n]+)/gi]},requiredFields:["implementationStatus","verificationResults","effectiveness"],optionalFields:["completion"],validationRules:{mustShowProgress:!0,requiresEvidence:!0,effectivenessMeasured:!0}},D7:{patterns:{preventiveMeasures:[/é¢„é˜²æªæ–½[ï¼š:]?\s*([^D\d]+)/gi,/é¢„é˜²[ï¼š:]?\s*([^D\d]+)/gi,/Prevention[ï¼š:]?\s*([^D\d]+)/gi],systemImprovement:[/ç³»ç»Ÿæ”¹è¿›[ï¼š:]?\s*([^ã€‚\n]+)/gi,/æ”¹è¿›[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Improvement[ï¼š:]?\s*([^ã€‚\n]+)/gi],processOptimization:[/æµç¨‹ä¼˜åŒ–[ï¼š:]?\s*([^ã€‚\n]+)/gi,/æµç¨‹[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Process[ï¼š:]?\s*([^ã€‚\n]+)/gi],training:[/åŸ¹è®­è®¡åˆ’[ï¼š:]?\s*([^ã€‚\n]+)/gi,/åŸ¹è®­[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Training[ï¼š:]?\s*([^ã€‚\n]+)/gi]},requiredFields:["preventiveMeasures","systemImprovement"],optionalFields:["processOptimization","training"],validationRules:{mustPreventRecurrence:!0,systemicApproach:!0,sustainabilityConsidered:!0}},D8:{patterns:{teamContribution:[/å›¢é˜Ÿè´¡çŒ®[ï¼š:]?\s*([^ã€‚\n]+)/gi,/è´¡çŒ®[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Contribution[ï¼š:]?\s*([^ã€‚\n]+)/gi],recognition:[/è¡¨å½°æ–¹å¼[ï¼š:]?\s*([^ã€‚\n]+)/gi,/è¡¨å½°[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Recognition[ï¼š:]?\s*([^ã€‚\n]+)/gi],lessonsLearned:[/ç»éªŒæ€»ç»“[ï¼š:]?\s*([^ã€‚\n]+)/gi,/æ€»ç»“[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Lessons\s+Learned[ï¼š:]?\s*([^ã€‚\n]+)/gi],knowledgeSharing:[/çŸ¥è¯†åˆ†äº«[ï¼š:]?\s*([^ã€‚\n]+)/gi,/åˆ†äº«[ï¼š:]?\s*([^ã€‚\n]+)/gi,/Knowledge\s+Sharing[ï¼š:]?\s*([^ã€‚\n]+)/gi]},requiredFields:["teamContribution","recognition"],optionalFields:["lessonsLearned","knowledgeSharing"],validationRules:{mustRecognizeTeam:!0,encouragesLearning:!0,promotesSharing:!0}}}}initializeValidationRules(){return{global:{minDimensionsRequired:6,minContentLength:100,maxContentLength:5e3,timelineConsistency:!0,crossReferenceCheck:!0},quality:{completenessThreshold:.7,accuracyThreshold:.8,consistencyThreshold:.75,clarityThreshold:.7},business:{mustHaveCustomerImpact:!0,mustHaveTimeline:!0,mustHaveOwnership:!0,mustHaveVerification:!0}}}initializeQualityMetrics(){return{completeness:{weight:.3,calculation:"fieldsCompleted / totalRequiredFields"},accuracy:{weight:.25,calculation:"validatedFields / totalFields"},consistency:{weight:.2,calculation:"consistentReferences / totalReferences"},clarity:{weight:.15,calculation:"clearStatements / totalStatements"},actionability:{weight:.1,calculation:"actionableItems / totalItems"}}}async extract8DData(e,i="text",s=""){try{console.log("ğŸ” å¼€å§‹8Dæ•°æ®æå–...");const t=await this.analyzer.identify8DReport(e,s);if(!t.is8DReport)throw new Error(`æ–‡ä»¶ä¸æ˜¯æ ‡å‡†8DæŠ¥å‘Šæ ¼å¼ (ç½®ä¿¡åº¦: ${(t.confidence*100).toFixed(1)}%)`);const n=await this.analyzer.parse8DContent(e,i);if(!n.success)throw new Error(`8Då†…å®¹è§£æå¤±è´¥: ${n.error}`);const r=this.performSpecializedExtraction(n.dimensions),o=this.performQualityAssessment(r),c=this.generateExtractionReport(t,n,r,o);return console.log("âœ… 8Dæ•°æ®æå–å®Œæˆ"),{success:!0,identification:t,extractedData:r,qualityAssessment:o,extractionReport:c,metadata:n.metadata,suggestions:n.suggestions}}catch(t){return console.error("âŒ 8Dæ•°æ®æå–å¤±è´¥:",t),{success:!1,error:t.message,extractedData:null,qualityAssessment:null}}}performSpecializedExtraction(e){const i={};return Object.keys(this.extractionRules).forEach(s=>{const t=this.extractionRules[s],n=e[s];if(!n||!n.content){i[s]=this.createEmptyDimensionData(t);return}i[s]=this.extractDimensionData(n.content,t,s)}),i}createEmptyDimensionData(e){const i={extracted:!1,fields:{},quality:{completeness:0,accuracy:0,clarity:0},issues:["ç»´åº¦å†…å®¹ç¼ºå¤±"]};return e.requiredFields.concat(e.optionalFields).forEach(t=>{i.fields[t]=null}),i}extractDimensionData(e,i,s){const t={extracted:!0,fields:{},quality:{},issues:[],confidence:0};return i.requiredFields.concat(i.optionalFields).forEach(r=>{t.fields[r]=this.extractField(e,i.patterns[r]||[],r)}),t.quality=this.assessExtractionQuality(t.fields,i,e),t.issues=this.validateExtractionRules(t.fields,i.validationRules,s),t.confidence=this.calculateExtractionConfidence(t.fields,t.quality,t.issues),t}extractField(e,i,s){if(!i||i.length===0)return null;for(const t of i){const n=e.match(t);if(n&&n.length>0){const r=n[0].replace(t,"$1").trim();if(r&&r.length>0)return{value:r,confidence:this.calculateFieldConfidence(r,s),source:"pattern_match",pattern:t.toString()}}}return this.extractByKeywordSearch(e,s)}extractByKeywordSearch(e,i){const t={teamMembers:["æˆå‘˜","äººå‘˜","å›¢é˜Ÿ"],roles:["è§’è‰²","èŒè´£","åˆ†å·¥"],leader:["ç»„é•¿","è´Ÿè´£äºº","ä¸»ç®¡"],problemDescription:["é—®é¢˜","ç°è±¡","æ•…éšœ"],occurrence:["æ—¶é—´","å‘ç”Ÿ","å‡ºç°"],impact:["å½±å“","èŒƒå›´","åæœ"],rootCause:["åŸå› ","æ ¹å› ","èµ·å› "],correctiveActions:["æªæ–½","è¡ŒåŠ¨","æ–¹æ¡ˆ"]}[i]||[],n=e.split(/[ã€‚ï¼ï¼Ÿ.!?]/);for(const r of n)for(const o of t)if(r.includes(o))return{value:r.trim(),confidence:.6,source:"keyword_search",keyword:o};return null}calculateFieldConfidence(e,i){let s=.5;switch(e.length>10&&(s+=.2),e.length>50&&(s+=.1),i){case"teamMembers":/[ï¼Œ,]/.test(e)&&(s+=.2);break;case"occurrence":/\d{4}[-\/]\d{1,2}[-\/]\d{1,2}/.test(e)&&(s+=.3);break;case"rootCause":e.length>30&&(s+=.2);break}return Math.min(s,1)}assessExtractionQuality(e,i,s){const t={completeness:0,accuracy:0,clarity:0,overall:0},n=i.requiredFields.length,r=i.requiredFields.filter(c=>e[c]&&e[c].value).length;t.completeness=r/n;const o=Object.values(e).filter(c=>c&&c.value);return o.length>0&&(t.accuracy=o.reduce((c,a)=>c+a.confidence,0)/o.length),t.clarity=this.assessContentClarity(s),t.overall=t.completeness*.4+t.accuracy*.4+t.clarity*.2,t}assessContentClarity(e){let i=.5;return/[ï¼š:]/.test(e)&&(i+=.2),/\d+[ã€.]/.test(e)&&(i+=.1),/\n/.test(e)&&(i+=.1),e.length>50&&e.length<500&&(i+=.1),Math.min(i,1)}validateExtractionRules(e,i,s){const t=[];return i&&Object.keys(i).forEach(n=>{const r=i[n];switch(n){case"minTeamSize":e.teamMembers&&e.teamMembers.value&&(e.teamMembers.value.match(/[ï¼Œ,]/g)||[]).length+1<r&&t.push(`å›¢é˜Ÿæˆå‘˜æ•°é‡ä¸è¶³ï¼Œå»ºè®®è‡³å°‘${r}äºº`);break;case"minDescriptionLength":e.problemDescription&&e.problemDescription.value&&e.problemDescription.value.length<r&&t.push(`é—®é¢˜æè¿°è¿‡äºç®€å•ï¼Œå»ºè®®è‡³å°‘${r}å­—`);break;case"requiresQuantification":e.problemDescription&&e.problemDescription.value&&(/\d/.test(e.problemDescription.value)||t.push("é—®é¢˜æè¿°ç¼ºå°‘é‡åŒ–æ•°æ®"));break;case"mustHaveTimeframe":(!e.occurrence||!e.occurrence.value)&&t.push("ç¼ºå°‘æ—¶é—´ä¿¡æ¯");break;case"requiresSystematicAnalysis":e.analysisMethod&&e.analysisMethod.value&&((i.knownMethods||[]).some(a=>e.analysisMethod.value.includes(a))||t.push("å»ºè®®ä½¿ç”¨ç³»ç»Ÿæ€§åˆ†ææ–¹æ³•ï¼ˆå¦‚5Whyã€é±¼éª¨å›¾ç­‰ï¼‰"));break}}),t}calculateExtractionConfidence(e,i,s){let t=i.overall;const n=s.length;n>0&&(t*=Math.max(.3,1-n*.1));const r=Object.keys(e).length,c=Object.values(e).filter(a=>a&&a.value).length/r;return t=(t+c)/2,Math.min(t,1)}performQualityAssessment(e){const i={overall:{score:0,grade:"F",status:"poor"},dimensions:{},metrics:{},recommendations:[]};let s=0,t=0;return Object.keys(e).forEach(n=>{const r=e[n],o=this.assessDimensionQuality(r,n);i.dimensions[n]=o,s+=o.score,t++}),i.overall.score=t>0?s/t:0,i.overall.grade=this.calculateGrade(i.overall.score),i.overall.status=this.determineStatus(i.overall.score),i.metrics=this.calculateQualityMetrics(e),i.recommendations=this.generateQualityRecommendations(e,i),i}assessDimensionQuality(e,i){if(!e.extracted)return{score:0,grade:"F",status:"missing",issues:["ç»´åº¦å†…å®¹ç¼ºå¤±"],strengths:[]};const s={score:e.quality.overall*100,grade:this.calculateGrade(e.quality.overall*100),status:this.determineStatus(e.quality.overall*100),issues:e.issues||[],strengths:[]};return e.quality.completeness>.8&&s.strengths.push("ä¿¡æ¯å®Œæ•´åº¦é«˜"),e.quality.accuracy>.8&&s.strengths.push("ä¿¡æ¯å‡†ç¡®åº¦é«˜"),e.confidence>.8&&s.strengths.push("æå–ç½®ä¿¡åº¦é«˜"),s}calculateGrade(e){return e>=90?"A":e>=80?"B":e>=70?"C":e>=60?"D":"F"}determineStatus(e){return e>=80?"excellent":e>=70?"good":e>=60?"acceptable":e>=40?"poor":"critical"}calculateQualityMetrics(e){const i={};return Object.keys(this.qualityMetrics).forEach(s=>{const t=this.qualityMetrics[s];i[s]={value:this.calculateMetricValue(e,s),weight:t.weight,description:t.calculation}}),i}calculateMetricValue(e,i){const s=Object.values(e);switch(i){case"completeness":const t=s.length*3;return s.reduce((a,l)=>l.extracted?a+Object.values(l.fields).filter(u=>u&&u.value).length:a,0)/t;case"accuracy":const r=s.reduce((a,l)=>l.extracted?a.concat(Object.values(l.fields).filter(u=>u&&u.value)):a,[]);return r.length===0?0:r.reduce((a,l)=>a+l.confidence,0)/r.length;case"consistency":return s.filter(a=>a.extracted&&a.issues.length===0).length/s.length;case"clarity":return s.reduce((a,l)=>{var u;return a+(((u=l.quality)==null?void 0:u.clarity)||0)},0)/s.length;case"actionability":const o=["D3","D5","D6","D7"];return o.filter(a=>{const l=e[a];return l&&l.extracted&&l.confidence>.6}).length/o.length;default:return 0}}generateQualityRecommendations(e,i){const s=[];return i.overall.score<60&&s.push({priority:"high",category:"æ•´ä½“è´¨é‡",description:"8DæŠ¥å‘Šæ•´ä½“è´¨é‡åä½ï¼Œå»ºè®®é‡æ–°å®¡è§†å„ç»´åº¦å†…å®¹çš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§",impact:"æå‡æŠ¥å‘Šæ•´ä½“å¯ä¿¡åº¦å’Œå®ç”¨æ€§"}),Object.keys(i.dimensions).forEach(t=>{const n=i.dimensions[t];if(n.score<70){const r=this.analyzer.reportStructure[t];s.push({priority:n.score<40?"high":"medium",category:`${t} - ${r.name}`,description:this.getDimensionRecommendation(t,n),impact:`æå‡${r.name}ç»´åº¦è´¨é‡`})}}),Object.keys(i.metrics).forEach(t=>{const n=i.metrics[t];n.value<.7&&s.push({priority:"medium",category:`è´¨é‡æŒ‡æ ‡ - ${t}`,description:this.getMetricRecommendation(t,n.value),impact:`æå‡${t}æŒ‡æ ‡`})}),s.slice(0,10)}getDimensionRecommendation(e,i){let t={D1:"å»ºè®®è¡¥å……å®Œæ•´çš„å›¢é˜Ÿæˆå‘˜ä¿¡æ¯ï¼ŒåŒ…æ‹¬å§“åã€è§’è‰²ã€è”ç³»æ–¹å¼å’Œä¸“ä¸šèƒŒæ™¯",D2:"å»ºè®®è¯¦ç»†æè¿°é—®é¢˜ç°è±¡ï¼ŒåŒ…æ‹¬å…·ä½“æ•°æ®ã€å‘ç”Ÿé¢‘ç‡ã€å½±å“èŒƒå›´å’Œå®¢æˆ·åé¦ˆ",D3:"å»ºè®®æ˜ç¡®ä¸´æ—¶æªæ–½çš„å…·ä½“å†…å®¹ã€å®æ–½æ—¶é—´ã€è´Ÿè´£äººå’ŒéªŒè¯æ–¹æ³•",D4:"å»ºè®®ä½¿ç”¨ç³»ç»Ÿæ€§åˆ†ææ–¹æ³•æ·±å…¥åˆ†ææ ¹æœ¬åŸå› ï¼Œå¹¶æä¾›å……åˆ†çš„éªŒè¯è¯æ®",D5:"å»ºè®®åˆ¶å®šè¯¦ç»†çš„æ°¸ä¹…çº æ­£æªæ–½ï¼ŒåŒ…æ‹¬å®æ–½è®¡åˆ’ã€æ—¶é—´è¡¨å’Œé¢„æœŸæ•ˆæœ",D6:"å»ºè®®è¡¥å……æªæ–½å®æ–½çš„å…·ä½“è¿›åº¦ã€éªŒè¯ç»“æœå’Œæ•ˆæœè¯„ä¼°",D7:"å»ºè®®å»ºç«‹ç³»ç»Ÿæ€§çš„é¢„é˜²æªæ–½ï¼ŒåŒ…æ‹¬æµç¨‹æ”¹è¿›å’ŒåŸ¹è®­è®¡åˆ’",D8:"å»ºè®®è¯¦ç»†è®°å½•å›¢é˜Ÿè´¡çŒ®å’Œç»éªŒæ€»ç»“ï¼Œå»ºç«‹çŸ¥è¯†åˆ†äº«æœºåˆ¶"}[e]||"å»ºè®®è¡¥å……æ›´è¯¦ç»†çš„ä¿¡æ¯";return i.issues.includes("ç»´åº¦å†…å®¹ç¼ºå¤±")?t=`${e}ç»´åº¦å†…å®¹å®Œå…¨ç¼ºå¤±ï¼Œ`+t:i.issues.length>0&&(t+=`ã€‚ç‰¹åˆ«æ³¨æ„ï¼š${i.issues.join("ã€")}`),t}getMetricRecommendation(e,i){return{completeness:"å»ºè®®è¡¥å……ç¼ºå¤±çš„å¿…å¡«å­—æ®µä¿¡æ¯ï¼Œç¡®ä¿æ¯ä¸ªç»´åº¦çš„å…³é”®ä¿¡æ¯å®Œæ•´",accuracy:"å»ºè®®æé«˜ä¿¡æ¯çš„å‡†ç¡®æ€§å’Œå…·ä½“æ€§ï¼Œé¿å…æ¨¡ç³Šæˆ–ä¸ç¡®å®šçš„è¡¨è¿°",consistency:"å»ºè®®æ£€æŸ¥å„ç»´åº¦é—´çš„ä¿¡æ¯ä¸€è‡´æ€§ï¼Œç¡®ä¿æ—¶é—´çº¿å’Œè´£ä»»äººç­‰ä¿¡æ¯åŒ¹é…",clarity:"å»ºè®®æ”¹å–„å†…å®¹çš„æ¸…æ™°åº¦ï¼Œä½¿ç”¨ç»“æ„åŒ–çš„è¡¨è¿°æ–¹å¼",actionability:"å»ºè®®å¢åŠ å…·ä½“çš„è¡ŒåŠ¨é¡¹å’Œå¯æ‰§è¡Œçš„æªæ–½"}[e]||"å»ºè®®æ”¹å–„è¯¥è´¨é‡æŒ‡æ ‡"}generateExtractionReport(e,i,s,t){return{summary:{documentType:"8Dè´¨é‡ç®¡ç†æŠ¥å‘Š",confidence:e.confidence,extractionSuccess:!0,dimensionsProcessed:Object.keys(s).length,overallQuality:t.overall.grade,processingTime:new Date().toISOString()},identification:{is8DReport:e.is8DReport,confidence:e.confidence,suggestedTemplate:e.suggestedTemplate},extraction:{dimensionsExtracted:Object.keys(s).filter(n=>s[n].extracted).length,totalDimensions:Object.keys(s).length,averageConfidence:this.calculateAverageConfidence(s)},quality:{overall:t.overall,metrics:t.metrics,topIssues:this.getTopIssues(s),strengths:this.getStrengths(s)},recommendations:t.recommendations.slice(0,5)}}calculateAverageConfidence(e){const i=Object.values(e).filter(s=>s.extracted);return i.length===0?0:i.reduce((s,t)=>s+t.confidence,0)/i.length}getTopIssues(e){const i=[];return Object.keys(e).forEach(s=>{const t=e[s];t.issues&&t.issues.length>0&&t.issues.forEach(n=>{i.push({dimension:s,issue:n,severity:t.confidence<.5?"high":"medium"})})}),i.slice(0,5)}getStrengths(e){const i=[];return Object.keys(e).forEach(s=>{const t=e[s];if(t.extracted&&t.confidence>.8){const n=this.analyzer.reportStructure[s];i.push({dimension:s,name:n.name,confidence:t.confidence,description:`${n.name}ç»´åº¦ä¿¡æ¯æå–è´¨é‡é«˜`})}}),i}}const p=new g;export{g as EightDDataExtractor,p as default};
