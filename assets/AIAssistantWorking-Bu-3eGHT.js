import{c as l,o as i,a as s,O as h,P as y,e as f,Q as k,R as A,F as C,r as w,b as S,_ as V,ai as b,S as _,V as P,X as T,t as r,n as M}from"./element-plus-DR-erZ3X.js";import{a as E}from"./index-Bo1zM2q5.js";import"./echarts-Dfqt_Pbx.js";const L={name:"AIAssistantWorking",setup(){const c=_(""),t=_([]),g=_(!1),e=_([]),x=_(null),I=_(["æŸ¥è¯¢å·¥å‚Açš„åº“å­˜æƒ…å†µ","åˆ†ææœ€è¿‘çš„è´¨é‡è¶‹åŠ¿","ç”Ÿæˆè´¨é‡æŠ¥å‘Š","ç»Ÿè®¡ä¸åˆæ ¼å“æ•°é‡"]),d=a=>new Promise(n=>setTimeout(n,a)),v=(a,n,m)=>{e.value.push({type:a,title:n,status:m})},u=(a,n,m=null)=>{e.value[a]&&(e.value[a].status=n,m&&(e.value[a].result=m))},o=async()=>{if(!c.value.trim()||g.value)return;const a={type:"user",content:c.value,timestamp:new Date};t.value.push(a);const n=c.value;c.value="",g.value=!0,e.value=[];try{await p(n)}catch(m){console.error("AIå¤„ç†é”™è¯¯:",m),t.value.push({type:"ai",content:"æŠ±æ­‰ï¼Œå¤„ç†æ‚¨çš„é—®é¢˜æ—¶å‡ºç°äº†é”™è¯¯ã€‚è¯·ç¨åé‡è¯•ã€‚",timestamp:new Date})}finally{g.value=!1}},p=async a=>{v("thinking","ç†è§£é—®é¢˜","processing"),await d(1e3),u(0,"completed"),v("analysis","åˆ†æé—®é¢˜ç±»å‹","processing"),await d(800),u(1,"completed"),v("tool_selection","é€‰æ‹©åˆé€‚å·¥å…·","processing"),await d(600),u(2,"completed"),v("response","ç”Ÿæˆå›ç­”","processing"),await d(500),u(3,"completed");const n=`æˆ‘æ”¶åˆ°äº†æ‚¨çš„é—®é¢˜ï¼š"${a}"ã€‚è¿™æ˜¯ä¸€ä¸ªå…³äºè´¨é‡ç®¡ç†çš„é—®é¢˜ï¼Œæˆ‘æ­£åœ¨ä¸ºæ‚¨åˆ†æç›¸å…³æ•°æ®...`;t.value.push({type:"ai",content:n,timestamp:new Date})};return{inputMessage:c,messages:t,isLoading:g,currentProcess:e,chatMessages:x,quickExamples:I,sendMessage:o,sendQuickQuestion:a=>{c.value=a,o()},clearChat:()=>{t.value=[],e.value=[]},exportChat:()=>{P.success("å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...")},formatTime:a=>a.toLocaleTimeString(),getStepIcon:a=>({thinking:"ğŸ¤”",analysis:"ğŸ”",tool_selection:"ğŸ› ï¸",response:"ğŸ’¬"})[a]||"âš™ï¸",getStatusText:a=>({processing:"å¤„ç†ä¸­...",completed:"å®Œæˆ",error:"é”™è¯¯"})[a]||a,formatStepResult:a=>typeof a=="object"?JSON.stringify(a,null,2):String(a)}}},N={class:"ai-assistant"},Q={class:"header"},q={class:"header-actions"},B={class:"main-content"},D={class:"chat-panel"},R={class:"panel-header"},K={class:"quick-actions"},F={class:"chat-messages",ref:"chatMessages"},O={class:"message-avatar"},W={key:0},j={key:1},z={class:"message-content"},J={class:"message-text"},U={class:"message-time"},X={key:0,class:"message ai loading"},G={class:"chat-input"},H={class:"input-actions"},Y={class:"process-panel"},Z={class:"process-content"},$={key:0,class:"empty-state"},ss={class:"step-header"},ts={class:"step-icon"},es={class:"step-title"},as={class:"step-status"},os={key:0,class:"step-result"},is={class:"result-content"};function ns(c,t,g,e,x,I){const d=k("el-button"),v=k("el-tag"),u=k("el-input");return i(),l("div",N,[s("div",Q,[t[3]||(t[3]=s("h1",null,"ğŸ¤– IQE AI æ™ºèƒ½åŠ©æ‰‹",-1)),s("div",q,[h(d,{onClick:e.clearChat,type:"primary",plain:""},{default:y(()=>t[1]||(t[1]=[f("æ¸…ç©ºå¯¹è¯")])),_:1,__:[1]},8,["onClick"]),h(d,{onClick:e.exportChat,type:"success",plain:""},{default:y(()=>t[2]||(t[2]=[f("å¯¼å‡ºå¯¹è¯")])),_:1,__:[2]},8,["onClick"])])]),s("div",B,[t[10]||(t[10]=A('<div class="tools-panel" data-v-12874758><div class="panel-header" data-v-12874758><h3 data-v-12874758>ğŸ› ï¸ å¯ç”¨å·¥å…·</h3></div><div class="tool-category" data-v-12874758><h4 data-v-12874758>ğŸ“Š æ•°æ®åˆ†æå·¥å…·</h4><div class="tool-list" data-v-12874758><div class="tool-item" data-v-12874758><div class="tool-icon" data-v-12874758>ğŸ“Š</div><div class="tool-info" data-v-12874758><div class="tool-name" data-v-12874758>æ•°æ®åˆ†æ</div><div class="tool-desc" data-v-12874758>åˆ†æè´¨é‡ç®¡ç†æ•°æ®</div></div></div><div class="tool-item" data-v-12874758><div class="tool-icon" data-v-12874758>ğŸ“ˆ</div><div class="tool-info" data-v-12874758><div class="tool-name" data-v-12874758>ç»Ÿè®¡åˆ†æ</div><div class="tool-desc" data-v-12874758>æ‰§è¡Œç»Ÿè®¡åˆ†æ</div></div></div></div></div><div class="tool-category" data-v-12874758><h4 data-v-12874758>ğŸ“ˆ å¯è§†åŒ–å·¥å…·</h4><div class="tool-list" data-v-12874758><div class="tool-item" data-v-12874758><div class="tool-icon" data-v-12874758>ğŸ“Š</div><div class="tool-info" data-v-12874758><div class="tool-name" data-v-12874758>å›¾è¡¨ç”Ÿæˆ</div><div class="tool-desc" data-v-12874758>ç”Ÿæˆæ•°æ®å¯è§†åŒ–å›¾è¡¨</div></div></div></div></div></div>',1)),s("div",D,[s("div",R,[t[4]||(t[4]=s("h3",null,"ğŸ’¬ æ™ºèƒ½é—®ç­”",-1)),s("div",K,[(i(!0),l(C,null,w(e.quickExamples,o=>(i(),T(v,{key:o,onClick:p=>e.sendQuickQuestion(o),class:"quick-tag"},{default:y(()=>[f(r(o),1)]),_:2},1032,["onClick"]))),128))])]),s("div",F,[(i(!0),l(C,null,w(e.messages,(o,p)=>(i(),l("div",{key:p,class:M(["message",o.type])},[s("div",O,[o.type==="user"?(i(),l("span",W,"ğŸ‘¤")):(i(),l("span",j,"ğŸ¤–"))]),s("div",z,[s("div",J,r(o.content),1),s("div",U,r(e.formatTime(o.timestamp)),1)])],2))),128)),e.isLoading?(i(),l("div",X,t[5]||(t[5]=[s("div",{class:"message-avatar"},"ğŸ¤–",-1),s("div",{class:"message-content"},[s("div",{class:"typing-indicator"},[s("span"),s("span"),s("span")])],-1)]))):S("",!0)],512),s("div",G,[h(u,{modelValue:e.inputMessage,"onUpdate:modelValue":t[0]||(t[0]=o=>e.inputMessage=o),type:"textarea",rows:3,placeholder:"è¯·è¾“å…¥æ‚¨çš„é—®é¢˜...",onKeydown:V(b(e.sendMessage,["ctrl"]),["enter"]),disabled:e.isLoading},null,8,["modelValue","onKeydown","disabled"]),s("div",H,[h(d,{onClick:e.sendMessage,type:"primary",loading:e.isLoading},{default:y(()=>t[6]||(t[6]=[f(" å‘é€ (Ctrl+Enter) ")])),_:1,__:[6]},8,["onClick","loading"])])])]),s("div",Y,[t[9]||(t[9]=s("div",{class:"panel-header"},[s("h3",null,"ğŸ§  AIæ€è€ƒè¿‡ç¨‹")],-1)),s("div",Z,[e.currentProcess.length===0?(i(),l("div",$,t[7]||(t[7]=[s("div",{class:"empty-icon"},"ğŸ¤”",-1),s("div",{class:"empty-text"},"AIæ­£åœ¨ç­‰å¾…æ‚¨çš„é—®é¢˜...",-1)]))):S("",!0),(i(!0),l(C,null,w(e.currentProcess,(o,p)=>(i(),l("div",{key:p,class:M(["process-step",o.status])},[s("div",ss,[s("div",ts,r(e.getStepIcon(o.type)),1),s("div",es,r(o.title),1),s("div",as,r(e.getStatusText(o.status)),1)]),o.result?(i(),l("div",os,[t[8]||(t[8]=s("div",{class:"result-label"},"æ‰§è¡Œç»“æœ:",-1)),s("div",is,r(e.formatStepResult(o.result)),1)])):S("",!0)],2))),128))])])])])}const rs=E(L,[["render",ns],["__scopeId","data-v-12874758"]]);export{rs as default};
