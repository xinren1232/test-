import{S as p,c as o,o as d,a,O as y,Q as g,P as h,e as k,R as L,F as A,r as S,b as f,_ as O,ai as R,X as z,t as r,n as V,V as C}from"./element-plus-DR-erZ3X.js";import{a as F}from"./index-Bo1zM2q5.js";import"./echarts-Dfqt_Pbx.js";const J={class:"ai-assistant-container"},U={class:"top-header"},$={class:"header-controls"},j={class:"three-column-layout"},X={class:"middle-column"},G={class:"column-header"},H={class:"quick-examples"},W={class:"message-avatar"},Y={key:0},Z={key:1},aa={class:"message-body"},sa={class:"message-text"},ta={class:"message-timestamp"},ea={key:0,class:"chat-message ai loading-message"},da={class:"input-area"},oa={class:"input-controls"},la={class:"right-column"},ia={class:"thinking-area"},na={key:0,class:"empty-thinking"},va={class:"step-header"},ca={class:"step-icon"},ra={class:"step-title"},ua={class:"step-status"},pa={key:0,class:"step-details"},ma={key:1,class:"step-result"},_a={class:"result-content"},ya={__name:"AssistantPageAINew",setup(ga){const u=p(""),_=p([{sender:"assistant",text:"æ‚¨å¥½ï¼æˆ‘æ˜¯AIæ™ºèƒ½é—®ç­”åŠ©æ‰‹ã€‚æˆ‘å·²æ¥å…¥DeepSeekå¤§è¯­è¨€æ¨¡å‹ï¼Œå¯ä»¥ä¸ºæ‚¨æä¾›æ™ºèƒ½å¯¹è¯æœåŠ¡ã€‚",timestamp:new Date}]),m=p(!1),I=p(!0),n=p([]),b=p(null),D=p(["æŸ¥è¯¢å·¥å‚Açš„åº“å­˜æƒ…å†µ","åˆ†ææœ€è¿‘çš„è´¨é‡è¶‹åŠ¿","ç”Ÿæˆè´¨é‡æŠ¥å‘Š","ç»Ÿè®¡ä¸åˆæ ¼å“æ•°é‡","æŸ¥çœ‹ç”Ÿäº§çº¿çŠ¶æ€"]),N=e=>e?new Date(e).toLocaleTimeString():"",M=e=>({thinking:"ğŸ¤”",analysis:"ğŸ”",tool_selection:"ğŸ› ï¸",data_query:"ğŸ“Š",response:"ğŸ’¬"})[e]||"âš™ï¸",P=e=>({processing:"å¤„ç†ä¸­...",completed:"å®Œæˆ",error:"é”™è¯¯"})[e]||e,E=e=>typeof e=="object"?JSON.stringify(e,null,2):String(e),T=e=>{u.value=e,w()},w=async()=>{if(!u.value.trim()||m.value)return;const e={type:"user",content:u.value,timestamp:new Date};_.value.push(e);const s=u.value;u.value="",m.value=!0,n.value=[];try{await B(s)}catch(v){console.error("AIå¤„ç†é”™è¯¯:",v),_.value.push({type:"ai",content:"æŠ±æ­‰ï¼Œå¤„ç†æ‚¨çš„é—®é¢˜æ—¶å‡ºç°äº†é”™è¯¯ã€‚è¯·ç¨åé‡è¯•ã€‚",timestamp:new Date})}finally{m.value=!1}},B=async e=>{const s=l=>new Promise(t=>setTimeout(t,l)),v=(l,t,i,K=null)=>{n.value.push({type:l,title:t,status:i,details:K})},c=(l,t,i=null)=>{n.value[l]&&(n.value[l].status=t,i&&(n.value[l].result=i))};v("thinking","ç†è§£é—®é¢˜","processing",{question:e}),await s(1e3),c(0,"completed"),v("analysis","åˆ†æé—®é¢˜ç±»å‹","processing"),await s(800),c(1,"completed"),v("tool_selection","é€‰æ‹©åˆé€‚å·¥å…·","processing"),await s(600),c(2,"completed"),v("response","ç”Ÿæˆå›ç­”","processing"),await s(500),c(3,"completed");const x=`æˆ‘æ”¶åˆ°äº†æ‚¨çš„é—®é¢˜ï¼š"${e}"ã€‚è¿™æ˜¯ä¸€ä¸ªå…³äºè´¨é‡ç®¡ç†çš„é—®é¢˜ï¼Œæˆ‘æ­£åœ¨ä¸ºæ‚¨åˆ†æç›¸å…³æ•°æ®...`;_.value.push({type:"ai",content:x,timestamp:new Date})},Q=()=>{_.value=[{sender:"assistant",text:"å¯¹è¯å·²æ¸…ç©ºã€‚æ‚¨å¥½ï¼æˆ‘æ˜¯AIæ™ºèƒ½é—®ç­”åŠ©æ‰‹ï¼Œå·²æ¥å…¥DeepSeekå¤§è¯­è¨€æ¨¡å‹ã€‚",timestamp:new Date}],n.value=[],C.success("å¯¹è¯å·²æ¸…ç©º")},q=()=>{C.success("å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...")};return(e,s)=>{const v=g("el-switch"),c=g("el-button"),x=g("el-tag"),l=g("el-input");return d(),o("div",J,[a("div",U,[s[4]||(s[4]=a("h1",null,"ğŸ¤– IQE AI æ™ºèƒ½åŠ©æ‰‹",-1)),a("div",$,[y(v,{modelValue:I.value,"onUpdate:modelValue":s[0]||(s[0]=t=>I.value=t),"active-text":"AIå¢å¼ºæ¨¡å¼","inactive-text":"åŸºç¡€æ¨¡å¼",size:"large"},null,8,["modelValue"]),y(c,{onClick:Q,type:"primary",plain:""},{default:h(()=>s[2]||(s[2]=[k("æ¸…ç©ºå¯¹è¯")])),_:1,__:[2]}),y(c,{onClick:q,type:"success",plain:""},{default:h(()=>s[3]||(s[3]=[k("å¯¼å‡ºå¯¹è¯")])),_:1,__:[3]})])]),a("div",j,[s[11]||(s[11]=L('<div class="left-column" data-v-3624a94d><div class="column-header" data-v-3624a94d><h3 data-v-3624a94d>ğŸ› ï¸ å¯ç”¨å·¥å…·</h3></div><div class="tools-section" data-v-3624a94d><div class="tool-category" data-v-3624a94d><h4 data-v-3624a94d>ğŸ“Š æ•°æ®åˆ†æå·¥å…·</h4><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ“Š</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>æ•°æ®åˆ†æ</div><div class="tool-desc" data-v-3624a94d>åˆ†æè´¨é‡ç®¡ç†æ•°æ®</div></div></div><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ“ˆ</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>ç»Ÿè®¡åˆ†æ</div><div class="tool-desc" data-v-3624a94d>æ‰§è¡Œç»Ÿè®¡åˆ†æ</div></div></div><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ§®</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>æ•°å€¼è®¡ç®—</div><div class="tool-desc" data-v-3624a94d>æ‰§è¡Œæ•°å­¦è®¡ç®—</div></div></div></div><div class="tool-category" data-v-3624a94d><h4 data-v-3624a94d>ğŸ“ˆ å¯è§†åŒ–å·¥å…·</h4><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ“Š</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>å›¾è¡¨ç”Ÿæˆ</div><div class="tool-desc" data-v-3624a94d>ç”Ÿæˆæ•°æ®å¯è§†åŒ–å›¾è¡¨</div></div></div><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ“„</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>æŠ¥å‘Šç”Ÿæˆ</div><div class="tool-desc" data-v-3624a94d>ç”Ÿæˆè´¨é‡åˆ†ææŠ¥å‘Š</div></div></div></div><div class="tool-category" data-v-3624a94d><h4 data-v-3624a94d>ğŸŒ è”ç½‘å·¥å…·</h4><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ”</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>ç½‘ç»œæœç´¢</div><div class="tool-desc" data-v-3624a94d>æœç´¢ç›¸å…³ä¿¡æ¯</div></div></div></div><div class="tool-category" data-v-3624a94d><h4 data-v-3624a94d>ğŸ¯ è´¨é‡ç®¡ç†</h4><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ“¦</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>åº“å­˜æŸ¥è¯¢</div><div class="tool-desc" data-v-3624a94d>æŸ¥è¯¢åº“å­˜ä¿¡æ¯</div></div></div><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ­</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>ç”Ÿäº§æŸ¥è¯¢</div><div class="tool-desc" data-v-3624a94d>æŸ¥è¯¢ç”Ÿäº§æ•°æ®</div></div></div><div class="tool-item" data-v-3624a94d><span class="tool-icon" data-v-3624a94d>ğŸ§ª</span><div class="tool-details" data-v-3624a94d><div class="tool-name" data-v-3624a94d>æ£€æµ‹æŸ¥è¯¢</div><div class="tool-desc" data-v-3624a94d>æŸ¥è¯¢æ£€æµ‹ç»“æœ</div></div></div></div></div></div>',1)),a("div",X,[a("div",G,[s[5]||(s[5]=a("h3",null,"ğŸ’¬ æ™ºèƒ½é—®ç­”",-1)),a("div",H,[(d(!0),o(A,null,S(D.value,t=>(d(),z(x,{key:t,onClick:i=>T(t),class:"example-tag"},{default:h(()=>[k(r(t),1)]),_:2},1032,["onClick"]))),128))])]),a("div",{class:"messages-area",ref_key:"messagesArea",ref:b},[(d(!0),o(A,null,S(_.value,(t,i)=>(d(),o("div",{key:i,class:V(["chat-message",t.sender||t.type])},[a("div",W,[t.sender==="user"||t.type==="user"?(d(),o("span",Y,"ğŸ‘¤")):(d(),o("span",Z,"ğŸ¤–"))]),a("div",aa,[a("div",sa,r(t.content||t.text),1),a("div",ta,r(N(t.timestamp)),1)])],2))),128)),m.value?(d(),o("div",ea,s[6]||(s[6]=[a("div",{class:"message-avatar"},"ğŸ¤–",-1),a("div",{class:"message-body"},[a("div",{class:"typing-animation"},[a("span"),a("span"),a("span")])],-1)]))):f("",!0)],512),a("div",da,[y(l,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),type:"textarea",rows:3,placeholder:"è¯·è¾“å…¥æ‚¨çš„é—®é¢˜...",onKeydown:O(R(w,["ctrl"]),["enter"]),disabled:m.value},null,8,["modelValue","onKeydown","disabled"]),a("div",oa,[y(c,{onClick:w,type:"primary",loading:m.value},{default:h(()=>s[7]||(s[7]=[k(" å‘é€ (Ctrl+Enter) ")])),_:1,__:[7]},8,["loading"])])])]),a("div",la,[s[10]||(s[10]=a("div",{class:"column-header"},[a("h3",null,"ğŸ§  AIæ€è€ƒè¿‡ç¨‹")],-1)),a("div",ia,[n.value.length===0?(d(),o("div",na,s[8]||(s[8]=[a("div",{class:"empty-icon"},"ğŸ¤”",-1),a("div",{class:"empty-text"},"AIæ­£åœ¨ç­‰å¾…æ‚¨çš„é—®é¢˜...",-1)]))):f("",!0),(d(!0),o(A,null,S(n.value,(t,i)=>(d(),o("div",{key:i,class:V(["thinking-step",t.status])},[a("div",va,[a("span",ca,r(M(t.type)),1),a("span",ra,r(t.title),1),a("span",ua,r(P(t.status)),1)]),t.details?(d(),o("div",pa,[a("pre",null,r(JSON.stringify(t.details,null,2)),1)])):f("",!0),t.result?(d(),o("div",ma,[s[9]||(s[9]=a("div",{class:"result-label"},"æ‰§è¡Œç»“æœ:",-1)),a("div",_a,r(E(t.result)),1)])):f("",!0)],2))),128))])])])])}}},wa=F(ya,[["__scopeId","data-v-3624a94d"]]);export{wa as default};
