import{a as B}from"./index-Bo1zM2q5.js";import{c as t,o as i,a as s,b as g,F as k,r as F,O as x,P as R,e as b,Q as T,S as c,$ as D,V as d,n as r,d as P,t as h}from"./element-plus-DR-erZ3X.js";import"./echarts-Dfqt_Pbx.js";const E={name:"DataCleaningMinimal",setup(){const m=c(null),e=c(null),v=c(null),l=c([]),p=c("idle"),u=c(0),y=c([{type:"excel",name:"Excel文件",icon:"el-icon-document",color:"#67c23a",extensions:[".xlsx",".xls"],tools:[{id:"pandas",name:"Pandas",icon:"el-icon-cpu",color:"#409eff"},{id:"openpyxl",name:"OpenPyXL",icon:"el-icon-document",color:"#67c23a"}]},{type:"csv",name:"CSV文件",icon:"el-icon-tickets",color:"#e6a23c",extensions:[".csv"],tools:[{id:"pandas",name:"Pandas",icon:"el-icon-cpu",color:"#409eff"}]}]),_=c([{id:"common",name:"常规清洗",icon:"el-icon-document"},{id:"material-issue",name:"来料问题",icon:"el-icon-box"}]),f=D(()=>m.value&&e.value&&v.value),n=o=>{m.value=o,e.value=null,d.success(`已选择文件格式: ${o.name}`)},a=o=>{e.value=o,d.success(`已选择处理工具: ${o.name}`)},C=o=>{v.value=o;const w=_.value.find(N=>N.id===o);d.success(`已选择清洗规则: ${w.name}`)},V=o=>{l.value=o,o.length>0&&(d.success("文件上传成功，开始处理..."),S())},S=()=>{p.value="running",u.value=0;const o=setInterval(()=>{u.value+=10,u.value>=100&&(clearInterval(o),p.value="completed",d.success("数据处理完成！"))},500)};return{selectedFileFormat:m,selectedTool:e,selectedRuleType:v,fileList:l,processingStatus:p,processingProgress:u,fileFormats:y,ruleTypes:_,configurationComplete:f,selectFileFormat:n,selectTool:a,selectRuleType:C,handleFileChange:V,startProcessing:S,viewResults:()=>{d.info("查看结果功能开发中...")}}}},L={class:"data-cleaning-minimal"},M={class:"main-content"},z={class:"left-panel"},I={class:"section"},O={class:"format-grid"},Q=["onClick"],X={key:0,class:"section"},j={class:"tool-grid"},q=["onClick"],A={key:1,class:"section"},G={class:"rule-grid"},H=["onClick"],J={key:2,class:"section"},K={class:"right-panel"},U={key:0},W={key:1},Y={key:2};function Z(m,e,v,l,p,u){const y=T("el-upload"),_=T("el-progress"),f=T("el-button");return i(),t("div",L,[e[11]||(e[11]=s("h1",null,"数据清洗治理 - 最小版本",-1)),s("div",M,[s("div",z,[e[5]||(e[5]=s("h3",null,"配置选择",-1)),s("div",I,[e[0]||(e[0]=s("h4",null,"1. 选择文件格式",-1)),s("div",O,[(i(!0),t(k,null,F(l.fileFormats,n=>{var a;return i(),t("div",{key:n.type,class:r(["format-card",{active:((a=l.selectedFileFormat)==null?void 0:a.type)===n.type}]),onClick:C=>l.selectFileFormat(n)},[s("i",{class:r(n.icon),style:P({color:n.color})},null,6),s("span",null,h(n.name),1)],10,Q)}),128))])]),l.selectedFileFormat?(i(),t("div",X,[e[1]||(e[1]=s("h4",null,"2. 选择处理工具",-1)),s("div",j,[(i(!0),t(k,null,F(l.selectedFileFormat.tools,n=>{var a;return i(),t("div",{key:n.id,class:r(["tool-card",{active:((a=l.selectedTool)==null?void 0:a.id)===n.id}]),onClick:C=>l.selectTool(n)},[s("i",{class:r(n.icon),style:P({color:n.color})},null,6),s("span",null,h(n.name),1)],10,q)}),128))])])):g("",!0),l.selectedTool?(i(),t("div",A,[e[2]||(e[2]=s("h4",null,"3. 选择清洗规则",-1)),s("div",G,[(i(!0),t(k,null,F(l.ruleTypes,n=>(i(),t("div",{key:n.id,class:r(["rule-card",{active:l.selectedRuleType===n.id}]),onClick:a=>l.selectRuleType(n.id)},[s("i",{class:r(n.icon)},null,2),s("span",null,h(n.name),1)],10,H))),128))])])):g("",!0),l.configurationComplete?(i(),t("div",J,[e[4]||(e[4]=s("h4",null,"4. 上传文件",-1)),x(y,{class:"upload-demo",drag:"","auto-upload":!1,"file-list":l.fileList,onChange:l.handleFileChange},{default:R(()=>e[3]||(e[3]=[s("i",{class:"el-icon-upload"},null,-1),s("div",{class:"el-upload__text"},[b("拖拽文件到此处，或"),s("em",null,"点击上传")],-1)])),_:1,__:[3]},8,["file-list","onChange"])])):g("",!0)]),s("div",K,[e[10]||(e[10]=s("h3",null,"处理状态",-1)),l.processingStatus==="idle"?(i(),t("div",U,e[6]||(e[6]=[s("p",null,"请完成左侧配置并上传文件",-1)]))):l.processingStatus==="running"?(i(),t("div",W,[e[7]||(e[7]=s("p",null,"正在处理数据...",-1)),x(_,{percentage:l.processingProgress},null,8,["percentage"])])):l.processingStatus==="completed"?(i(),t("div",Y,[e[9]||(e[9]=s("p",null,"处理完成！",-1)),x(f,{type:"primary",onClick:l.viewResults},{default:R(()=>e[8]||(e[8]=[b("查看结果")])),_:1,__:[8]},8,["onClick"])])):g("",!0)])])])}const ne=B(E,[["render",Z],["__scopeId","data-v-03b533b5"]]);export{ne as default};
