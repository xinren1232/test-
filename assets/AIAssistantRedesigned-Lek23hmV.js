import{S as p,aj as ue,T as pe,V as v,c,o as i,a as e,O as l,n as V,t as o,Q as w,a0 as I,ak as ve,al as ge,F as S,r as C,b as y,R as me,_ as _e,ai as ye,P as u,am as fe,an as he,e as B,a8 as ke,d as be,X as O,ao as we,W as Ie,ap as Ae}from"./element-plus-DR-erZ3X.js";import{a as Se,ax as Ce}from"./index-Bo1zM2q5.js";import"./echarts-Dfqt_Pbx.js";const xe={class:"ai-assistant-redesigned"},$e={class:"top-navbar"},Te={class:"navbar-right"},De={class:"main-content"},Ve={class:"left-panel"},Me={class:"tools-grid"},ze=["onClick"],Be={class:"tool-info"},Ee={key:0,class:"tool-badge"},Le={class:"quick-actions"},Ne={class:"action-buttons"},Qe={class:"center-panel"},Re={class:"chat-header"},Oe={class:"chat-title"},Fe={class:"chat-stats"},qe={class:"quick-questions"},Ke={key:0,class:"welcome-message"},Ue={class:"message-avatar"},je={class:"avatar-icon"},Je={key:0,class:"avatar-status"},Pe={class:"message-bubble"},He=["innerHTML"],Ge={class:"message-meta"},We={class:"message-time"},Xe={key:0,class:"message-actions"},Ye={key:1,class:"message-item ai loading"},Ze={class:"chat-input"},et={class:"input-container"},tt={class:"input-actions"},st={class:"input-tools"},at={class:"right-panel"},nt={class:"thinking-steps"},ot={key:0,class:"empty-thinking"},it={class:"step-indicator"},lt={class:"step-number"},ct={key:0,class:"step-line"},rt={class:"step-content"},dt={class:"step-header"},ut={class:"step-icon"},pt={class:"step-title"},vt={class:"step-status"},gt={key:0,class:"step-details"},mt={key:1,class:"step-progress"},_t={class:"data-stats"},yt={class:"stats-grid"},ft={class:"stat-item"},ht={class:"stat-value"},kt={class:"stat-item"},bt={class:"stat-value"},wt={class:"stat-item"},It={class:"stat-value"},At={__name:"AIAssistantRedesigned",setup(St){const F=Ce(),k=p(!0),h=p(!1),m=p(""),f=p([]),_=p([]),M=p(null),E=p(0),x=p(null),n=ue({inventory:0,production:0,inspection:0,lastSync:null}),q=p([{id:"data-analysis",name:"æ•°æ®åˆ†æ",icon:"ğŸ“Š",description:"æ·±åº¦åˆ†æè´¨é‡ç®¡ç†æ•°æ®",category:"åˆ†æ",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"trend-analysis",name:"è¶‹åŠ¿åˆ†æ",icon:"ğŸ“ˆ",description:"è¯†åˆ«æ•°æ®å˜åŒ–è¶‹åŠ¿",category:"åˆ†æ",color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{id:"chart-generation",name:"å›¾è¡¨ç”Ÿæˆ",icon:"ğŸ“Š",description:"ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨",category:"å¯è§†åŒ–",color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{id:"report-generation",name:"æŠ¥å‘Šç”Ÿæˆ",icon:"ğŸ“„",description:"è‡ªåŠ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š",category:"æŠ¥å‘Š",color:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},{id:"inventory-query",name:"åº“å­˜æŸ¥è¯¢",icon:"ğŸ“¦",description:"æŸ¥è¯¢åº“å­˜çŠ¶æ€ä¿¡æ¯",category:"æŸ¥è¯¢",color:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},{id:"production-query",name:"ç”Ÿäº§æŸ¥è¯¢",icon:"ğŸ­",description:"æŸ¥è¯¢ç”Ÿäº§çº¿æ•°æ®",category:"æŸ¥è¯¢",color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},{id:"quality-inspection",name:"è´¨é‡æ£€æµ‹",icon:"ğŸ”",description:"æ£€æµ‹è´¨é‡å¼‚å¸¸",category:"æ£€æµ‹",color:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{id:"web-search",name:"ç½‘ç»œæœç´¢",icon:"ğŸŒ",description:"æœç´¢ç›¸å…³ä¿¡æ¯",category:"æœç´¢",color:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)"}]),K=p([{text:"æ•°æ®æ¦‚è§ˆ",icon:"ğŸ“Š",type:"primary",action:"overview"},{text:"å¼‚å¸¸æ£€æµ‹",icon:"âš ï¸",type:"warning",action:"anomaly"},{text:"è´¨é‡æŠ¥å‘Š",icon:"ğŸ“‹",type:"success",action:"report"},{text:"è¶‹åŠ¿é¢„æµ‹",icon:"ğŸ”®",type:"info",action:"prediction"}]),U=p(["æŸ¥è¯¢å·¥å‚Açš„åº“å­˜æƒ…å†µ","åˆ†ææœ€è¿‘ä¸€å‘¨çš„è´¨é‡è¶‹åŠ¿","ç”Ÿæˆæœ¬æœˆè´¨é‡åˆ†ææŠ¥å‘Š","æ£€æŸ¥æ˜¯å¦æœ‰å¼‚å¸¸æ‰¹æ¬¡","é¢„æµ‹ä¸‹æœˆè´¨é‡é£é™©","å¯¹æ¯”å„å·¥å‚è´¨é‡è¡¨ç°"]),$={apiKey:"sk-cab797574abf4288bcfaca253191565d",baseURL:"https://api.deepseek.com",endpoint:"/chat/completions",model:"deepseek-chat"},j=()=>{F.push("/")},J=()=>{v({message:`å·²åˆ‡æ¢åˆ°${k.value?"AIå¢å¼ºæ¨¡å¼":"åŸºç¡€æ¨¡å¼"}`,type:"info",duration:2e3})},P=async()=>{try{await Ae.confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å¯¹è¯è®°å½•å—ï¼Ÿ","æ¸…ç©ºå¯¹è¯",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),f.value=[],_.value=[],M.value=null,v({type:"success",message:"å¯¹è¯å·²æ¸…ç©º"})}catch{}},H=s=>{M.value=s,m.value=`è¯·ä½¿ç”¨${s.name}å·¥å…·å¸®æˆ‘åˆ†ææ•°æ®`,v({message:`å·²é€‰æ‹©å·¥å…·ï¼š${s.name}`,type:"success",duration:2e3})},G=s=>{const t={overview:"è¯·æä¾›å½“å‰ç³»ç»Ÿçš„æ•°æ®æ¦‚è§ˆ",anomaly:"è¯·æ£€æµ‹å½“å‰æ˜¯å¦å­˜åœ¨è´¨é‡å¼‚å¸¸",report:"è¯·ç”Ÿæˆæœ¬æœˆçš„è´¨é‡åˆ†ææŠ¥å‘Š",prediction:"è¯·é¢„æµ‹ä¸‹ä¸ªæœˆçš„è´¨é‡è¶‹åŠ¿"};m.value=t[s.action]||s.text,T()},W=s=>{m.value=s,T()},T=async()=>{if(!m.value.trim()||h.value)return;const s=m.value.trim(),t=Date.now();f.value.push({type:"user",content:s,timestamp:new Date}),m.value="",N();try{await X(s),E.value=Date.now()-t}catch(d){console.error("AIå¤„ç†é”™è¯¯:",d),f.value.push({type:"ai",content:"æŠ±æ­‰ï¼Œå¤„ç†æ‚¨çš„é—®é¢˜æ—¶å‡ºç°äº†é”™è¯¯ã€‚è¯·ç¨åé‡è¯•ã€‚",timestamp:new Date}),v({message:"å¤„ç†å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",type:"error"})}N()},X=async s=>{h.value=!0,_.value=[];try{D("understanding","ç†è§£ç”¨æˆ·é—®é¢˜","processing","æ­£åœ¨åˆ†æé—®é¢˜æ„å›¾å’Œå…³é”®ä¿¡æ¯..."),await z(800),b(0,"completed","é—®é¢˜ç†è§£å®Œæˆï¼Œè¯†åˆ«å‡ºå…³é”®è¦ç´ "),D("data_retrieval","æ£€ç´¢ç›¸å…³æ•°æ®","processing","ä»æ•°æ®åº“ä¸­æŸ¥æ‰¾ç›¸å…³ä¿¡æ¯..."),await z(600),b(1,"completed","æˆåŠŸæ£€ç´¢åˆ°ç›¸å…³æ•°æ®è®°å½•"),D("ai_analysis","AIæ™ºèƒ½åˆ†æ","processing","è°ƒç”¨DeepSeekå¤§æ¨¡å‹è¿›è¡Œæ·±åº¦åˆ†æ...");let t;if(k.value)try{t=await Y(s),b(2,"completed","AIåˆ†æå®Œæˆï¼Œç”Ÿæˆä¸“ä¸šå›ç­”")}catch(d){console.error("AIè°ƒç”¨å¤±è´¥:",d),t=L(s),b(2,"completed","ä½¿ç”¨åŸºç¡€æ¨¡å¼ç”Ÿæˆå›ç­”"),v({message:"AIæœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œå·²åˆ‡æ¢åˆ°åŸºç¡€æ¨¡å¼",type:"warning"})}else t=L(s),b(2,"completed","åŸºç¡€æ¨¡å¼åˆ†æå®Œæˆ");D("result_formatting","æ•´ç†åˆ†æç»“æœ","processing","æ ¼å¼åŒ–è¾“å‡ºç»“æœ..."),await z(300),b(3,"completed","ç»“æœæ•´ç†å®Œæˆï¼Œå‡†å¤‡å±•ç¤º"),f.value.push({type:"ai",content:t,timestamp:new Date})}finally{h.value=!1}},Y=async s=>{const t=await fetch(`${$.baseURL}${$.endpoint}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$.apiKey}`},body:JSON.stringify({model:$.model,messages:[{role:"system",content:`ä½ æ˜¯IQEè´¨é‡ç®¡ç†ç³»ç»Ÿçš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œä¸“é—¨è´Ÿè´£è´¨é‡ç®¡ç†æ•°æ®åˆ†æå’Œé—®ç­”ã€‚

å½“å‰ç³»ç»Ÿæ•°æ®æ¦‚è§ˆï¼š
- åº“å­˜è®°å½•ï¼š${n.inventory}æ¡
- ç”Ÿäº§è®°å½•ï¼š${n.production}æ¡
- æ£€æµ‹è®°å½•ï¼š${n.inspection}æ¡

è¯·åŸºäºç”¨æˆ·é—®é¢˜æä¾›ä¸“ä¸šã€å‡†ç¡®ã€æœ‰ç”¨çš„å›ç­”ã€‚å›ç­”è¦ç»“æ„åŒ–ã€æ˜“è¯»ï¼Œå¯ä»¥ä½¿ç”¨é€‚å½“çš„æ ¼å¼å’Œç¬¦å·ã€‚`},{role:"user",content:s}],temperature:.7,max_tokens:2e3})});if(!t.ok)throw new Error(`AI APIé”™è¯¯: ${t.status}`);return(await t.json()).choices[0].message.content},L=s=>{const t=s.toLowerCase();return t.includes("åº“å­˜")||t.includes("inventory")?`ğŸ“¦ **åº“å­˜æŸ¥è¯¢ç»“æœ**

æ ¹æ®æ‚¨çš„æŸ¥è¯¢ï¼Œå½“å‰ç³»ç»Ÿä¸­å…±æœ‰ ${n.inventory} æ¡åº“å­˜è®°å½•ã€‚

**ä¸»è¦ä¿¡æ¯ï¼š**
- æ€»åº“å­˜è®°å½•æ•°ï¼š${n.inventory}
- æ¶‰åŠå¤šä¸ªå·¥å‚å’Œä»“åº“
- åŒ…å«å„ç±»ç‰©æ–™çš„è¯¦ç»†ä¿¡æ¯

**å»ºè®®æ“ä½œï¼š**
1. æŸ¥çœ‹å…·ä½“åº“å­˜è¯¦æƒ…é¡µé¢
2. ç­›é€‰ç‰¹å®šå·¥å‚æˆ–ç‰©æ–™
3. æ£€æŸ¥åº“å­˜çŠ¶æ€å’Œé¢„è­¦ä¿¡æ¯

å¦‚éœ€æ›´è¯¦ç»†çš„åˆ†æï¼Œè¯·å¯ç”¨AIå¢å¼ºæ¨¡å¼ã€‚`:t.includes("ç”Ÿäº§")||t.includes("production")?`ğŸ­ **ç”Ÿäº§æ•°æ®åˆ†æ**

å½“å‰ç”Ÿäº§æ•°æ®æ¦‚è§ˆï¼š

**æ•°æ®ç»Ÿè®¡ï¼š**
- ç”Ÿäº§è®°å½•æ€»æ•°ï¼š${n.production}
- è¦†ç›–å¤šæ¡ç”Ÿäº§çº¿
- åŒ…å«è´¨é‡æ£€æµ‹ç»“æœ

**å…³é”®æŒ‡æ ‡ï¼š**
- ç”Ÿäº§æ•ˆç‡æ­£å¸¸
- è´¨é‡åˆæ ¼ç‡ç¨³å®š
- å¼‚å¸¸æƒ…å†µå·²æ ‡è®°

å»ºè®®æŸ¥çœ‹ç”Ÿäº§ç®¡ç†é¡µé¢è·å–æ›´è¯¦ç»†ä¿¡æ¯ã€‚`:t.includes("æ£€æµ‹")||t.includes("è´¨é‡")||t.includes("inspection")?`ğŸ” **è´¨é‡æ£€æµ‹åˆ†æ**

è´¨é‡æ£€æµ‹æ•°æ®æ¦‚è§ˆï¼š

**æ£€æµ‹ç»Ÿè®¡ï¼š**
- æ£€æµ‹è®°å½•æ•°ï¼š${n.inspection}
- æ¶µç›–å„ç±»è´¨é‡æŒ‡æ ‡
- å®æ—¶æ›´æ–°æ£€æµ‹ç»“æœ

**è´¨é‡çŠ¶æ€ï¼š**
- æ•´ä½“è´¨é‡æ°´å¹³è‰¯å¥½
- å¼‚å¸¸æ‰¹æ¬¡å·²è¯†åˆ«
- æ”¹è¿›å»ºè®®å·²ç”Ÿæˆ

å¦‚éœ€æ·±åº¦åˆ†æï¼Œå»ºè®®ä½¿ç”¨AIå¢å¼ºæ¨¡å¼ã€‚`:`ğŸ¤– **æ™ºèƒ½åŠ©æ‰‹å›å¤**

æˆ‘æ”¶åˆ°äº†æ‚¨çš„é—®é¢˜ï¼š"${s}"

**åŸºç¡€åˆ†æï¼š**
è¿™æ˜¯ä¸€ä¸ªå…³äºè´¨é‡ç®¡ç†çš„é—®é¢˜ã€‚åŸºäºå½“å‰æ•°æ®ï¼š
- åº“å­˜è®°å½•ï¼š${n.inventory}æ¡
- ç”Ÿäº§è®°å½•ï¼š${n.production}æ¡
- æ£€æµ‹è®°å½•ï¼š${n.inspection}æ¡

**å»ºè®®ï¼š**
1. å¯ç”¨AIå¢å¼ºæ¨¡å¼è·å¾—æ›´ä¸“ä¸šçš„åˆ†æ
2. é€‰æ‹©å·¦ä¾§ç›¸å…³å·¥å…·è¿›è¡Œæ·±å…¥åˆ†æ
3. æŸ¥çœ‹å¯¹åº”çš„æ•°æ®ç®¡ç†é¡µé¢

å¦‚æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶è¯¢é—®ï¼`},D=(s,t,d,r="")=>{_.value.push({type:s,title:t,status:d,details:r,timestamp:new Date})},b=(s,t,d="")=>{_.value[s]&&(_.value[s].status=t,d&&(_.value[s].details=d))},Z=s=>({understanding:"ğŸ¤”",data_retrieval:"ğŸ“Š",ai_analysis:"ğŸ¤–",result_formatting:"ğŸ“"})[s]||"âš™ï¸",ee=s=>({processing:"å¤„ç†ä¸­...",completed:"å·²å®Œæˆ",failed:"å¤±è´¥"})[s]||s,te=s=>s?new Date(s).toLocaleTimeString():"",se=s=>s.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>"),ae=async s=>{try{await navigator.clipboard.writeText(s),v({message:"å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿",type:"success"})}catch{v({message:"å¤åˆ¶å¤±è´¥",type:"error"})}},ne=s=>{v({message:"æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼",type:"success"})},oe=()=>{v({message:"è¯­éŸ³è¾“å…¥åŠŸèƒ½å¼€å‘ä¸­...",type:"info"})},ie=()=>{v({message:"æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å¼€å‘ä¸­...",type:"info"})},z=s=>new Promise(t=>setTimeout(t,s)),N=()=>{Ie(()=>{x.value&&(x.value.scrollTop=x.value.scrollHeight)})};pe(async()=>{console.log("ğŸ¤– AIæ™ºèƒ½åŠ©æ‰‹é‡æ–°è®¾è®¡ç‰ˆæœ¬å·²åŠ è½½"),await le(),setTimeout(()=>{f.value.length===0&&v({message:"æ¬¢è¿ä½¿ç”¨IQE AIæ™ºèƒ½åŠ©æ‰‹ï¼",type:"success",duration:3e3})},1e3)});const le=async()=>{try{console.log("ğŸ“Š è·å–æ•°æ®ç»Ÿè®¡...");const t=await(await fetch("/api/data/status")).json();t.success?(n.inventory=t.data.inventory,n.inspection=t.data.lab,n.production=t.data.online,n.lastSync=t.data.lastSync,console.log("âœ… æ•°æ®ç»Ÿè®¡è·å–æˆåŠŸ:",t.data)):(console.error("âŒ è·å–æ•°æ®ç»Ÿè®¡å¤±è´¥:",t.message),Q())}catch(s){console.error("âŒ è·å–æ•°æ®ç»Ÿè®¡å¼‚å¸¸:",s),Q()}},Q=()=>{try{const s=localStorage.getItem("unified_inventory_data")||localStorage.getItem("inventory_data"),t=localStorage.getItem("unified_lab_data")||localStorage.getItem("lab_data"),d=localStorage.getItem("unified_factory_data")||localStorage.getItem("factory_data");if(s){const r=JSON.parse(s);n.inventory=r.length}if(t){const r=JSON.parse(t);n.inspection=r.length}if(d){const r=JSON.parse(d);n.production=r.length}console.log("ğŸ“Š ä»localStorageåŠ è½½æ•°æ®ç»Ÿè®¡:",n)}catch(s){console.warn("ä»localStorageåŠ è½½æ•°æ®ç»Ÿè®¡å¤±è´¥:",s),n.inventory=132,n.inspection=396,n.production=1056}};return(s,t)=>{const d=w("el-switch"),r=w("el-button"),ce=w("el-tag"),A=w("el-icon"),re=w("Like"),de=w("el-input");return i(),c("div",xe,[e("div",$e,[t[3]||(t[3]=e("div",{class:"navbar-left"},[e("div",{class:"logo-section"},[e("div",{class:"logo-icon"},"ğŸ¤–"),e("div",{class:"logo-text"},[e("h1",null,"IQE AI æ™ºèƒ½åŠ©æ‰‹"),e("p",null,"åŸºäºDeepSeekå¤§æ¨¡å‹çš„è´¨é‡ç®¡ç†ä¸“å®¶")])])],-1)),e("div",Te,[e("div",{class:V(["status-indicator",{active:k.value}])},[t[2]||(t[2]=e("div",{class:"status-dot"},null,-1)),e("span",null,o(k.value?"AIå¢å¼ºæ¨¡å¼":"åŸºç¡€æ¨¡å¼"),1)],2),l(d,{modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=a=>k.value=a),onChange:J,size:"large","active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"]),l(r,{onClick:P,type:"primary",icon:I(ve),circle:""},null,8,["icon"]),l(r,{onClick:j,type:"info",icon:I(ge),circle:""},null,8,["icon"])])]),e("div",De,[e("div",Ve,[t[5]||(t[5]=e("div",{class:"panel-header"},[e("h3",null,"ğŸ› ï¸ æ™ºèƒ½å·¥å…·ç®±"),e("p",null,"é€‰æ‹©å·¥å…·å¼€å§‹æ™ºèƒ½åˆ†æ")],-1)),e("div",Me,[(i(!0),c(S,null,C(q.value,a=>{var g;return i(),c("div",{key:a.id,class:V(["tool-card",{active:((g=M.value)==null?void 0:g.id)===a.id}]),onClick:R=>H(a)},[e("div",{class:"tool-icon",style:be({background:a.color})},o(a.icon),5),e("div",Be,[e("h4",null,o(a.name),1),e("p",null,o(a.description),1)]),a.category?(i(),c("div",Ee,o(a.category),1)):y("",!0)],10,ze)}),128))]),e("div",Le,[t[4]||(t[4]=e("h4",null,"âš¡ å¿«é€Ÿæ“ä½œ",-1)),e("div",Ne,[(i(!0),c(S,null,C(K.value,a=>(i(),O(r,{key:a.text,onClick:g=>G(a),size:"small",type:a.type,plain:""},{default:u(()=>[B(o(a.icon)+" "+o(a.text),1)]),_:2},1032,["onClick","type"]))),128))])])]),e("div",Qe,[e("div",Re,[e("div",Oe,[t[6]||(t[6]=e("h3",null,"ğŸ’¬ æ™ºèƒ½å¯¹è¯",-1)),e("div",Fe,[e("span",null,"å¯¹è¯è½®æ¬¡: "+o(f.value.length/2|0),1),e("span",null,"å“åº”æ—¶é—´: "+o(E.value)+"ms",1)])]),e("div",qe,[(i(!0),c(S,null,C(U.value,a=>(i(),O(ce,{key:a,onClick:g=>W(a),class:"question-tag",effect:"plain",size:"small"},{default:u(()=>[B(o(a),1)]),_:2},1032,["onClick"]))),128))])]),e("div",{class:"chat-content",ref_key:"chatContent",ref:x},[f.value.length===0?(i(),c("div",Ke,t[7]||(t[7]=[e("div",{class:"welcome-icon"},"ğŸ¯",-1),e("h3",null,"æ¬¢è¿ä½¿ç”¨IQE AIæ™ºèƒ½åŠ©æ‰‹",-1),e("p",null,"æˆ‘æ˜¯æ‚¨çš„è´¨é‡ç®¡ç†ä¸“å®¶ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ï¼š",-1),e("ul",null,[e("li",null,"ğŸ“Š åˆ†æè´¨é‡æ•°æ®å’Œè¶‹åŠ¿"),e("li",null,"ğŸ” æŸ¥è¯¢åº“å­˜ã€ç”Ÿäº§ã€æ£€æµ‹ä¿¡æ¯"),e("li",null,"ğŸ“ˆ ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨å’ŒæŠ¥å‘Š"),e("li",null,"ğŸ¤– æä¾›ä¸“ä¸šçš„è´¨é‡ç®¡ç†å»ºè®®")],-1),e("p",null,"è¯·é€‰æ‹©å·¦ä¾§å·¥å…·æˆ–ç›´æ¥æé—®å¼€å§‹å¯¹è¯ï¼",-1)]))):y("",!0),(i(!0),c(S,null,C(f.value,(a,g)=>(i(),c("div",{key:g,class:V(["message-item",a.type])},[e("div",Ue,[e("div",je,o(a.type==="user"?"ğŸ‘¤":"ğŸ¤–"),1),a.type==="ai"?(i(),c("div",Je)):y("",!0)]),e("div",Pe,[e("div",{class:"message-content",innerHTML:se(a.content)},null,8,He),e("div",Ge,[e("span",We,o(te(a.timestamp)),1),a.type==="ai"?(i(),c("div",Xe,[l(r,{size:"small",text:"",onClick:R=>ae(a.content)},{default:u(()=>[l(A,null,{default:u(()=>[l(I(we))]),_:1})]),_:2},1032,["onClick"]),l(r,{size:"small",text:"",onClick:R=>ne()},{default:u(()=>[l(A,null,{default:u(()=>[l(re)]),_:1})]),_:2},1032,["onClick"])])):y("",!0)])])],2))),128)),h.value?(i(),c("div",Ye,t[8]||(t[8]=[me('<div class="message-avatar" data-v-08a6c405><div class="avatar-icon" data-v-08a6c405>ğŸ¤–</div><div class="avatar-status loading" data-v-08a6c405></div></div><div class="message-bubble" data-v-08a6c405><div class="typing-indicator" data-v-08a6c405><span data-v-08a6c405></span><span data-v-08a6c405></span><span data-v-08a6c405></span></div><div class="loading-text" data-v-08a6c405>AIæ­£åœ¨æ€è€ƒä¸­...</div></div>',2)]))):y("",!0)],512),e("div",Ze,[e("div",et,[l(de,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=a=>m.value=a),type:"textarea",rows:2,placeholder:"è¯·è¾“å…¥æ‚¨çš„é—®é¢˜... (æ”¯æŒ Ctrl+Enter å¿«é€Ÿå‘é€)",onKeydown:_e(ye(T,["ctrl"]),["enter"]),disabled:h.value,class:"message-input"},null,8,["modelValue","onKeydown","disabled"]),e("div",tt,[e("div",st,[l(r,{size:"small",text:"",onClick:oe},{default:u(()=>[l(A,null,{default:u(()=>[l(I(fe))]),_:1})]),_:1}),l(r,{size:"small",text:"",onClick:ie},{default:u(()=>[l(A,null,{default:u(()=>[l(I(he))]),_:1})]),_:1})]),l(r,{type:"primary",onClick:T,loading:h.value,disabled:!m.value.trim(),class:"send-button"},{default:u(()=>[l(A,null,{default:u(()=>[l(I(ke))]),_:1}),B(" "+o(h.value?"å‘é€ä¸­":"å‘é€"),1)]),_:1},8,["loading","disabled"])])])])]),e("div",at,[t[15]||(t[15]=e("div",{class:"panel-header"},[e("h3",null,"ğŸ§  AIåˆ†æè¿‡ç¨‹"),e("p",null,"å®æ—¶å±•ç¤ºAIæ€è€ƒæ­¥éª¤")],-1)),e("div",nt,[_.value.length===0?(i(),c("div",ot,t[9]||(t[9]=[e("div",{class:"empty-icon"},"ğŸ’­",-1),e("p",null,"ç­‰å¾…AIå¼€å§‹åˆ†æ...",-1)]))):y("",!0),(i(!0),c(S,null,C(_.value,(a,g)=>(i(),c("div",{key:g,class:V(["thinking-step",a.status])},[e("div",it,[e("div",lt,o(g+1),1),g<_.value.length-1?(i(),c("div",ct)):y("",!0)]),e("div",rt,[e("div",dt,[e("span",ut,o(Z(a.type)),1),e("span",pt,o(a.title),1),e("span",vt,o(ee(a.status)),1)]),a.details?(i(),c("div",gt,[e("p",null,o(a.details),1)])):y("",!0),a.status==="processing"?(i(),c("div",mt,t[10]||(t[10]=[e("div",{class:"progress-bar"},null,-1)]))):y("",!0)])],2))),128))]),e("div",_t,[t[14]||(t[14]=e("h4",null,"ğŸ“Š æ•°æ®æ¦‚è§ˆ",-1)),e("div",yt,[e("div",ft,[e("div",ht,o(n.inventory),1),t[11]||(t[11]=e("div",{class:"stat-label"},"åº“å­˜è®°å½•",-1))]),e("div",kt,[e("div",bt,o(n.production),1),t[12]||(t[12]=e("div",{class:"stat-label"},"ç”Ÿäº§è®°å½•",-1))]),e("div",wt,[e("div",It,o(n.inspection),1),t[13]||(t[13]=e("div",{class:"stat-label"},"æ£€æµ‹è®°å½•",-1))])])])])])])}}},Tt=Se(At,[["__scopeId","data-v-08a6c405"]]);export{Tt as default};
