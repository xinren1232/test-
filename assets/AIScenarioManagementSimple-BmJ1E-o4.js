import{a as ie}from"./index-Bo1zM2q5.js";import{S as w,$ as L,T as re,c as C,o as b,a as s,O as c,e as v,t as f,P as m,Q as x,F as q,r as $,b as N,V as R,X as j,n as le}from"./element-plus-DR-erZ3X.js";import"./echarts-Dfqt_Pbx.js";class ce{constructor(){this.scenarios=this.initializeScenarios(),this.currentScenario="general"}initializeScenarios(){return{general:{id:"general",name:"é€šç”¨è´¨é‡ç®¡ç†",description:"é€‚ç”¨äºä¸€èˆ¬æ€§è´¨é‡ç®¡ç†é—®ç­”",icon:"ğŸ¤–",category:"general",systemPrompt:`ä½ æ˜¯IQEè´¨é‡ç®¡ç†ç³»ç»Ÿçš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œä¸“é—¨è´Ÿè´£è´¨é‡ç®¡ç†æ•°æ®åˆ†æå’Œé—®ç­”ã€‚

## æ ¸å¿ƒèƒ½åŠ›ï¼š
1. æ•°æ®åˆ†æå’Œç»Ÿè®¡
2. è´¨é‡è¶‹åŠ¿åˆ†æ  
3. é—®é¢˜è¯Šæ–­å’Œå»ºè®®
4. æŠ¥å‘Šç”Ÿæˆ

## å›å¤è¦æ±‚ï¼š
- ä½¿ç”¨ä¸“ä¸šæœ¯è¯­ä½†ä¿æŒæ˜“æ‡‚
- æä¾›å…·ä½“çš„æ•°æ®æ”¯æ’‘
- ç»™å‡ºå¯æ“ä½œçš„å»ºè®®
- ä½¿ç”¨Markdownæ ¼å¼ç»„ç»‡å†…å®¹`,thinkingStyle:"systematic",analysisDepth:"standard",responseFormat:"markdown",toolPreferences:["chart","analysis"],maxTokens:2e3,temperature:.7},inventory:{id:"inventory",name:"åº“å­˜ç®¡ç†ä¸“å®¶",description:"ä¸“æ³¨äºåº“å­˜åˆ†æã€é£é™©è¯„ä¼°ã€ä¼˜åŒ–å»ºè®®",icon:"ğŸ“¦",category:"business",systemPrompt:`ä½ æ˜¯ä¸“ä¸šçš„åº“å­˜ç®¡ç†ä¸“å®¶ï¼Œå…·æœ‰ä¸°å¯Œçš„ä¾›åº”é“¾å’Œä»“å‚¨ç®¡ç†ç»éªŒã€‚

## ä¸“ä¸šé¢†åŸŸï¼š
1. åº“å­˜æ°´å¹³åˆ†æå’Œä¼˜åŒ–
2. é£é™©åº“å­˜è¯†åˆ«å’Œå¤„ç†
3. ä¾›åº”å•†è¡¨ç°è¯„ä¼°
4. åº“å­˜å‘¨è½¬ç‡åˆ†æ
5. å®‰å…¨åº“å­˜è®¡ç®—

## åˆ†æé‡ç‚¹ï¼š
- å…³æ³¨åº“å­˜å‘¨è½¬æ•ˆç‡
- è¯†åˆ«æ»é”€å’ŒçŸ­ç¼ºé£é™©
- è¯„ä¼°ä¾›åº”å•†å¯é æ€§
- æä¾›åº“å­˜ä¼˜åŒ–ç­–ç•¥

## å›å¤é£æ ¼ï¼š
- æ•°æ®é©±åŠ¨çš„åˆ†æ
- å…·ä½“çš„æ”¹è¿›å»ºè®®
- é£é™©ç­‰çº§è¯„ä¼°
- ROIè®¡ç®—å’Œæˆæœ¬åˆ†æ`,thinkingStyle:"analytical",analysisDepth:"deep",responseFormat:"structured",toolPreferences:["pie_chart","trend_analysis","risk_assessment"],maxTokens:2500,temperature:.6},quality:{id:"quality",name:"è´¨é‡æ£€æµ‹ä¸“å®¶",description:"ä¸“æ³¨äºè´¨é‡åˆ†æã€ç¼ºé™·è¯Šæ–­ã€æ”¹è¿›æªæ–½",icon:"ğŸ”",category:"business",systemPrompt:`ä½ æ˜¯èµ„æ·±çš„è´¨é‡ç®¡ç†ä¸“å®¶ï¼Œä¸“ç²¾äºè´¨é‡æ§åˆ¶å’ŒæŒç»­æ”¹è¿›ã€‚

## ä¸“ä¸šé¢†åŸŸï¼š
1. è´¨é‡æ•°æ®ç»Ÿè®¡åˆ†æ
2. ç¼ºé™·æ¨¡å¼è¯†åˆ«
3. æ ¹å› åˆ†æ(RCA)
4. è´¨é‡æ”¹è¿›å»ºè®®
5. è´¨é‡æˆæœ¬åˆ†æ

## åˆ†ææ–¹æ³•ï¼š
- ä½¿ç”¨ç»Ÿè®¡è´¨é‡æ§åˆ¶(SQC)æ–¹æ³•
- åº”ç”¨å¸•ç´¯æ‰˜åˆ†æ
- è¿›è¡Œè¶‹åŠ¿åˆ†æ
- å®æ–½PDCAå¾ªç¯æ€ç»´

## å›å¤ç‰¹ç‚¹ï¼š
- åŸºäºæ•°æ®çš„å®¢è§‚åˆ†æ
- æä¾›æ ¹å› åˆ†æ
- ç»™å‡ºå…·ä½“æ”¹è¿›æªæ–½
- é‡åŒ–è´¨é‡æˆæœ¬å½±å“`,thinkingStyle:"methodical",analysisDepth:"deep",responseFormat:"analytical",toolPreferences:["control_chart","pareto_chart","fishbone"],maxTokens:3e3,temperature:.5},production:{id:"production",name:"ç”Ÿäº§ç®¡ç†ä¸“å®¶",description:"ä¸“æ³¨äºç”Ÿäº§æ•ˆç‡ã€å·¥è‰ºä¼˜åŒ–ã€äº§èƒ½åˆ†æ",icon:"ğŸ­",category:"business",systemPrompt:`ä½ æ˜¯ç»éªŒä¸°å¯Œçš„ç”Ÿäº§ç®¡ç†ä¸“å®¶ï¼Œä¸“æ³¨äºåˆ¶é€ ä¸šç”Ÿäº§ä¼˜åŒ–ã€‚

## ä¸“ä¸šé¢†åŸŸï¼š
1. ç”Ÿäº§æ•ˆç‡åˆ†æ
2. å·¥è‰ºæµç¨‹ä¼˜åŒ–
3. äº§èƒ½è§„åˆ’å’Œè°ƒåº¦
4. è®¾å¤‡æ•ˆç‡(OEE)åˆ†æ
5. ç”Ÿäº§æˆæœ¬æ§åˆ¶

## åˆ†æè§†è§’ï¼š
- å…³æ³¨ç”Ÿäº§æ•ˆç‡æŒ‡æ ‡
- è¯†åˆ«ç”Ÿäº§ç“¶é¢ˆ
- è¯„ä¼°å·¥è‰ºç¨³å®šæ€§
- ä¼˜åŒ–èµ„æºé…ç½®

## å›å¤é‡ç‚¹ï¼š
- æä¾›æ•ˆç‡æå‡æ–¹æ¡ˆ
- åˆ†æäº§èƒ½åˆ©ç”¨ç‡
- è¯†åˆ«æ”¹è¿›æœºä¼š
- é‡åŒ–æ•ˆç›Šé¢„æœŸ`,thinkingStyle:"efficiency_focused",analysisDepth:"operational",responseFormat:"actionable",toolPreferences:["gantt_chart","efficiency_chart","capacity_analysis"],maxTokens:2500,temperature:.6},risk:{id:"risk",name:"é£é™©ç®¡ç†ä¸“å®¶",description:"ä¸“æ³¨äºé£é™©è¯†åˆ«ã€è¯„ä¼°ã€é¢„è­¦å’Œæ§åˆ¶",icon:"âš ï¸",category:"management",systemPrompt:`ä½ æ˜¯ä¸“ä¸šçš„é£é™©ç®¡ç†ä¸“å®¶ï¼Œå…·å¤‡æ•é”çš„é£é™©è¯†åˆ«å’Œè¯„ä¼°èƒ½åŠ›ã€‚

## ä¸“ä¸šé¢†åŸŸï¼š
1. è´¨é‡é£é™©è¯†åˆ«å’Œè¯„ä¼°
2. ä¾›åº”é“¾é£é™©åˆ†æ
3. åˆè§„é£é™©ç®¡æ§
4. é¢„è­¦æœºåˆ¶è®¾è®¡
5. åº”æ€¥å“åº”ç­–ç•¥

## åˆ†ææ¡†æ¶ï¼š
- ä½¿ç”¨é£é™©çŸ©é˜µè¯„ä¼°
- åº”ç”¨FMEAåˆ†ææ–¹æ³•
- å»ºç«‹é£é™©æŒ‡æ ‡ä½“ç³»
- åˆ¶å®šç¼“è§£æªæ–½

## å›å¤ç‰¹è‰²ï¼š
- çªå‡ºé£é™©ç­‰çº§
- æä¾›é¢„è­¦å»ºè®®
- åˆ¶å®šåº”å¯¹ç­–ç•¥
- å»ºç«‹ç›‘æ§æœºåˆ¶`,thinkingStyle:"risk_oriented",analysisDepth:"comprehensive",responseFormat:"risk_focused",toolPreferences:["risk_matrix","alert_dashboard","trend_monitoring"],maxTokens:2800,temperature:.4},decision:{id:"decision",name:"å†³ç­–æ”¯æŒä¸“å®¶",description:"æä¾›æ•°æ®é©±åŠ¨çš„å†³ç­–å»ºè®®å’Œæˆ˜ç•¥åˆ†æ",icon:"ğŸ¯",category:"management",systemPrompt:`ä½ æ˜¯é«˜çº§ç®¡ç†é¡¾é—®ï¼Œä¸“æ³¨äºä¸ºç®¡ç†å±‚æä¾›æ•°æ®é©±åŠ¨çš„å†³ç­–æ”¯æŒã€‚

## ä¸“ä¸šèƒ½åŠ›ï¼š
1. æˆ˜ç•¥æ•°æ®åˆ†æ
2. å¤šç»´åº¦å¯¹æ¯”è¯„ä¼°
3. ROIå’Œæˆæœ¬æ•ˆç›Šåˆ†æ
4. è¶‹åŠ¿é¢„æµ‹å’Œå»ºæ¨¡
5. å†³ç­–æ–¹æ¡ˆè¯„ä¼°

## åˆ†ææ–¹æ³•ï¼š
- å¤šè§’åº¦æ•°æ®å¯¹æ¯”
- é‡åŒ–åˆ†æå’Œå»ºæ¨¡
- æƒ…æ™¯åˆ†æå’Œé¢„æµ‹
- é£é™©æ”¶ç›Šè¯„ä¼°

## å›å¤é£æ ¼ï¼š
- é«˜å±‚æ¬¡æˆ˜ç•¥è§†è§’
- æ•°æ®æ”¯æ’‘çš„ç»“è®º
- å¤šæ–¹æ¡ˆå¯¹æ¯”åˆ†æ
- æ˜ç¡®çš„è¡ŒåŠ¨å»ºè®®`,thinkingStyle:"strategic",analysisDepth:"executive",responseFormat:"executive_summary",toolPreferences:["dashboard","comparison_chart","forecast_model"],maxTokens:3500,temperature:.7}}}getAllScenarios(){return Object.values(this.scenarios)}getScenarioCategories(){const e={};return Object.values(this.scenarios).forEach(t=>{e[t.category]||(e[t.category]=[]),e[t.category].push(t)}),e}getScenario(e){return this.scenarios[e]||this.scenarios.general}setCurrentScenario(e){return this.scenarios[e]?(this.currentScenario=e,!0):!1}getCurrentScenario(){return this.getScenario(this.currentScenario)}addCustomScenario(e){if(!e.id||this.scenarios[e.id])throw new Error("åœºæ™¯IDæ— æ•ˆæˆ–å·²å­˜åœ¨");return this.scenarios[e.id]={...e,category:e.category||"custom",isCustom:!0},!0}updateScenario(e,t){if(!this.scenarios[e])throw new Error("åœºæ™¯ä¸å­˜åœ¨");return this.scenarios[e]={...this.scenarios[e],...t},this.scenarios[e]}deleteScenario(e){const t=this.scenarios[e];if(!t||!t.isCustom)throw new Error("åªèƒ½åˆ é™¤è‡ªå®šä¹‰åœºæ™¯");return delete this.scenarios[e],this.currentScenario===e&&(this.currentScenario="general"),!0}recommendScenario(e){const t=e.toLowerCase(),i={inventory:["åº“å­˜","ä»“åº“","ç‰©æ–™","ä¾›åº”å•†","å…¥åº“","å‡ºåº“","åº“å­˜é‡"],quality:["è´¨é‡","æ£€æµ‹","æµ‹è¯•","ç¼ºé™·","ä¸è‰¯","åˆæ ¼ç‡","è´¨æ£€"],production:["ç”Ÿäº§","äº§çº¿","åˆ¶é€ ","å·¥è‰º","äº§èƒ½","æ•ˆç‡","äº§é‡"],risk:["é£é™©","å¼‚å¸¸","é¢„è­¦","é—®é¢˜","æ•…éšœ","äº‹æ•…","éšæ‚£"],decision:["å†³ç­–","å¯¹æ¯”","é€‰æ‹©","è¯„ä¼°","åˆ†æ","å»ºè®®","ç­–ç•¥"]};let o=0,a="general";return Object.entries(i).forEach(([r,d])=>{const h=d.reduce((u,y)=>u+(t.includes(y)?1:0),0);h>o&&(o=h,a=r)}),{scenarioId:a,confidence:o>0?o/3*100:0,scenario:this.getScenario(a)}}saveToStorage(){const e={};Object.entries(this.scenarios).forEach(([t,i])=>{i.isCustom&&(e[t]=i)}),localStorage.setItem("aiScenarios",JSON.stringify({customScenarios:e,currentScenario:this.currentScenario}))}loadFromStorage(){try{const e=localStorage.getItem("aiScenarios");if(e){const{customScenarios:t,currentScenario:i}=JSON.parse(e);Object.entries(t||{}).forEach(([o,a])=>{this.scenarios[o]=a}),i&&this.scenarios[i]&&(this.currentScenario=i)}}catch(e){console.error("åŠ è½½AIåœºæ™¯é…ç½®å¤±è´¥:",e)}}}const S=new ce;class ue{constructor(){this.rules=this.initializeRules(),this.scenarioPatterns=this.initializeScenarioPatterns()}initializeScenarioPatterns(){return{inventory:{keywords:["åº“å­˜","ä»“åº“","ç‰©æ–™","ææ–™","ä¾›åº”å•†","å…¥åº“","å‡ºåº“","åº“å­˜é‡","å®‰å…¨åº“å­˜"],patterns:[/æŸ¥è¯¢.*åº“å­˜/,/.*åº“å­˜.*æƒ…å†µ/,/.*ä»“åº“.*çŠ¶æ€/,/.*ç‰©æ–™.*æ•°é‡/,/.*ä¾›åº”å•†.*åº“å­˜/],entities:["factory","warehouse","materialCode","materialName","supplier"],confidence:.8},quality:{keywords:["è´¨é‡","æ£€æµ‹","æµ‹è¯•","æ£€éªŒ","åˆæ ¼","ä¸è‰¯","ç¼ºé™·","è´¨æ£€","å“è´¨"],patterns:[/è´¨é‡.*åˆ†æ/,/.*æ£€æµ‹.*ç»“æœ/,/.*åˆæ ¼ç‡/,/.*ä¸è‰¯ç‡/,/.*è´¨é‡.*è¶‹åŠ¿/],entities:["testResult","defectPhenomena","testDate"],confidence:.85},production:{keywords:["ç”Ÿäº§","äº§çº¿","åˆ¶é€ ","å·¥è‰º","äº§èƒ½","æ•ˆç‡","äº§é‡","ç”Ÿäº§çº¿"],patterns:[/ç”Ÿäº§.*æ•ˆç‡/,/.*äº§çº¿.*çŠ¶æ€/,/.*äº§èƒ½.*åˆ†æ/,/.*å·¥è‰º.*ä¼˜åŒ–/,/.*åˆ¶é€ .*æ•°æ®/],entities:["factory","baseline","project","defectRate"],confidence:.8},risk:{keywords:["é£é™©","å¼‚å¸¸","é¢„è­¦","é—®é¢˜","æ•…éšœ","äº‹æ•…","éšæ‚£","è­¦æŠ¥"],patterns:[/é£é™©.*è¯„ä¼°/,/.*å¼‚å¸¸.*æ£€æµ‹/,/.*é¢„è­¦.*åˆ†æ/,/.*é—®é¢˜.*è¯Šæ–­/,/.*é£é™©.*æ§åˆ¶/],entities:["status","defectPhenomena","alertLevel"],confidence:.9},decision:{keywords:["å†³ç­–","å»ºè®®","å¯¹æ¯”","é€‰æ‹©","è¯„ä¼°","åˆ†æ","ç­–ç•¥","æ–¹æ¡ˆ"],patterns:[/.*å†³ç­–.*æ”¯æŒ/,/.*å»ºè®®.*æ–¹æ¡ˆ/,/.*å¯¹æ¯”.*åˆ†æ/,/.*è¯„ä¼°.*ç»“æœ/,/.*ç­–ç•¥.*åˆ¶å®š/],entities:["comparison","recommendation","strategy"],confidence:.7}}}initializeRules(){return{inventory:[{id:"inv_001",name:"åº“å­˜çŠ¶æ€æŸ¥è¯¢",pattern:/æŸ¥è¯¢.*åº“å­˜.*çŠ¶æ€/,action:"query_inventory_status",dataSource:["inventory"],response:"åŸºäºåº“å­˜æ•°æ®åˆ†æå½“å‰çŠ¶æ€åˆ†å¸ƒå’Œé£é™©ç­‰çº§"},{id:"inv_002",name:"ä¾›åº”å•†åº“å­˜åˆ†æ",pattern:/.*ä¾›åº”å•†.*åº“å­˜/,action:"analyze_supplier_inventory",dataSource:["inventory"],response:"åˆ†æå„ä¾›åº”å•†çš„åº“å­˜è¡¨ç°å’Œä¾›åº”ç¨³å®šæ€§"},{id:"inv_003",name:"åº“å­˜é£é™©è¯„ä¼°",pattern:/åº“å­˜.*é£é™©/,action:"assess_inventory_risk",dataSource:["inventory"],response:"è¯†åˆ«é£é™©åº“å­˜ï¼Œè¯„ä¼°å®‰å…¨åº“å­˜æ°´å¹³"}],quality:[{id:"qua_001",name:"è´¨é‡è¶‹åŠ¿åˆ†æ",pattern:/è´¨é‡.*è¶‹åŠ¿/,action:"analyze_quality_trend",dataSource:["inspection","production"],response:"åˆ†æè´¨é‡æŒ‡æ ‡çš„æ—¶é—´è¶‹åŠ¿å’Œå˜åŒ–æ¨¡å¼"},{id:"qua_002",name:"ä¸è‰¯ç‡ç»Ÿè®¡",pattern:/ä¸è‰¯ç‡.*ç»Ÿè®¡/,action:"calculate_defect_rate",dataSource:["production","inspection"],response:"ç»Ÿè®¡å„ç»´åº¦çš„ä¸è‰¯ç‡å¹¶è¿›è¡Œå¯¹æ¯”åˆ†æ"},{id:"qua_003",name:"è´¨é‡å¼‚å¸¸æ£€æµ‹",pattern:/è´¨é‡.*å¼‚å¸¸/,action:"detect_quality_anomaly",dataSource:["inspection"],response:"æ£€æµ‹è´¨é‡å¼‚å¸¸æ¨¡å¼ï¼Œæä¾›æ”¹è¿›å»ºè®®"}],production:[{id:"pro_001",name:"ç”Ÿäº§æ•ˆç‡åˆ†æ",pattern:/ç”Ÿäº§.*æ•ˆç‡/,action:"analyze_production_efficiency",dataSource:["production"],response:"åˆ†æç”Ÿäº§æ•ˆç‡æŒ‡æ ‡ï¼Œè¯†åˆ«æ”¹è¿›æœºä¼š"},{id:"pro_002",name:"äº§èƒ½åˆ©ç”¨ç‡",pattern:/äº§èƒ½.*åˆ©ç”¨/,action:"calculate_capacity_utilization",dataSource:["production"],response:"è®¡ç®—äº§èƒ½åˆ©ç”¨ç‡ï¼Œä¼˜åŒ–èµ„æºé…ç½®"}],risk:[{id:"ris_001",name:"é£é™©è¯†åˆ«è¯„ä¼°",pattern:/é£é™©.*è¯†åˆ«/,action:"identify_risks",dataSource:["inventory","production","inspection"],response:"å…¨é¢è¯†åˆ«å„ç±»é£é™©ï¼Œè¿›è¡Œç­‰çº§è¯„ä¼°"},{id:"ris_002",name:"é¢„è­¦åˆ†æ",pattern:/é¢„è­¦.*åˆ†æ/,action:"analyze_alerts",dataSource:["inventory","production","inspection"],response:"åˆ†æé¢„è­¦ä¿¡å·ï¼Œåˆ¶å®šåº”å¯¹ç­–ç•¥"}],decision:[{id:"dec_001",name:"ç»¼åˆå¯¹æ¯”åˆ†æ",pattern:/å¯¹æ¯”.*åˆ†æ/,action:"comprehensive_comparison",dataSource:["inventory","production","inspection"],response:"å¤šç»´åº¦å¯¹æ¯”åˆ†æï¼Œæä¾›å†³ç­–å»ºè®®"}]}}identifyScenario(e){const t=e.toLowerCase(),i=[];return Object.entries(this.scenarioPatterns).forEach(([o,a])=>{let r=0;const d=a.keywords.filter(y=>t.includes(y)).length;r+=d*10;const h=a.patterns.filter(y=>y.test(e)).length;r+=h*20;const u=a.entities.filter(y=>t.includes(y.toLowerCase())).length;r+=u*5,r>0&&i.push({scenarioId:o,score:r,confidence:Math.min(r/50*a.confidence,1),matchedKeywords:a.keywords.filter(y=>t.includes(y)),matchedPatterns:a.patterns.filter(y=>y.test(e))})}),i.sort((o,a)=>a.score-o.score),{primaryScenario:i[0]||null,allMatches:i,hasMatch:i.length>0}}matchRules(e,t){const i=this.rules[t]||[],o=[];return i.forEach(a=>{a.pattern.test(e)&&o.push({...a,matchConfidence:.9})}),{matchedRules:o,hasRules:o.length>0,primaryRule:o[0]||null}}generateRuleBasedResponse(e,t){if(!e.hasRules)return null;const i=e.primaryRule;let o=`## ${i.name}

`;return o+=`${i.response}

`,t&&t.totalRecords>0&&(o+=`### æ•°æ®åˆ†æç»“æœ
`,o+=`- æŸ¥è¯¢åˆ° ${t.totalRecords} æ¡ç›¸å…³è®°å½•
`,Object.entries(t.sources).forEach(([a,r])=>{r.length>0&&(o+=`- ${a}: ${r.length} æ¡è®°å½•
`)})),o}processQuestion(e,t=null){console.log("ğŸ” å¢å¼ºåœºæ™¯å¼•æ“å¤„ç†é—®é¢˜:",e);const i=this.preprocessQuestion(e),o=this.enhancedScenarioIdentification(i);console.log("ğŸ“Š å¢å¼ºåœºæ™¯è¯†åˆ«ç»“æœ:",o);const a=this.intelligentRuleMatching(i,o);console.log("ğŸ“‹ æ™ºèƒ½è§„åˆ™åŒ¹é…ç»“æœ:",a);const r=this.analyzeContext(i,o),d=this.generateEnhancedResponse(a,t,r);return{scenarioMatch:o,ruleMatch:a,contextAnalysis:r,ruleBasedResponse:d,shouldUseRules:a.hasRules&&d!==null,processingStrategy:this.determineAdvancedStrategy(o,a,r),confidence:o.confidence}}preprocessQuestion(e){let t=e.trim().toLowerCase();const i={åº“å­˜:["å­˜è´§","åº“æˆ¿","ä»“å‚¨","å‚¨å­˜"],è´¨é‡:["å“è´¨","è´¨æ£€","æ£€éªŒ"],ç”Ÿäº§:["åˆ¶é€ ","äº§çº¿","ç”Ÿäº§çº¿"],ä¾›åº”å•†:["å‚å•†","ä¾›è´§å•†","æä¾›å•†"],æ£€æµ‹:["æµ‹è¯•","æ£€éªŒ","æ£€æŸ¥"],åˆ†æ:["ç»Ÿè®¡","è®¡ç®—","è¯„ä¼°"]};for(const[r,d]of Object.entries(i))d.forEach(h=>{t=t.replace(new RegExp(h,"g"),r)});const o=this.extractEntities(t),a=this.classifyIntent(t);return{original:e,cleaned:t,entities:o,intentType:a,keywords:this.extractKeywords(t)}}enhancedScenarioIdentification(e){const{cleaned:t,entities:i,intentType:o,keywords:a}=e,r=this.calculateKeywordScores(a),d=this.calculateEntityScores(i),h=this.calculateIntentScores(o),u=this.combineScores(r,d,h),y=this.determinePrimaryScenario(u);return{hasMatch:y.confidence>.6,primaryScenario:y,allScenarios:u,confidence:y.confidence,reasoning:this.generateScenarioReasoning(u,a,i)}}intelligentRuleMatching(e,t){if(!t.hasMatch)return{hasRules:!1,matchedRules:[],confidence:0};const i=t.primaryScenario.scenarioId,o=this.rules[i]||[],a=[];for(const r of o){const d=this.calculateRuleMatchScore(r,e);d>.5&&a.push({...r,matchScore:d,matchReason:this.generateMatchReason(r,e)})}return a.sort((r,d)=>d.matchScore-r.matchScore),{hasRules:a.length>0,matchedRules:a,confidence:a.length>0?a[0].matchScore:0,totalMatches:a.length}}analyzeContext(e,t){const{entities:i,intentType:o}=e;return{complexity:this.assessQuestionComplexity(e),urgency:this.assessUrgency(e),dataRequirements:this.identifyDataRequirements(i,t),responseFormat:this.determineOptimalResponseFormat(o,t),userExpertise:this.estimateUserExpertise(e)}}addRule(e,t){return this.rules[e]||(this.rules[e]=[]),t.id=t.id||`${e}_${Date.now()}`,this.rules[e].push(t),t.id}updateRule(e,t,i){const a=(this.rules[e]||[]).findIndex(r=>r.id===t);return a!==-1?(this.rules[e][a]={...this.rules[e][a],...i},!0):!1}deleteRule(e,t){const o=(this.rules[e]||[]).findIndex(a=>a.id===t);return o!==-1?(this.rules[e].splice(o,1),!0):!1}getScenarioRules(e){return this.rules[e]||[]}getRuleStatistics(){const e={};let t=0;return Object.entries(this.rules).forEach(([i,o])=>{e[i]=o.length,t+=o.length}),{byScenario:e,total:t}}extractEntities(e){const t={factories:[],materials:[],suppliers:[],timeRanges:[],metrics:[]};return["åä¸œå·¥å‚","åå—å·¥å‚","ååŒ—å·¥å‚","è¥¿å—å·¥å‚"].forEach(r=>{e.includes(r.toLowerCase())&&t.factories.push(r)}),["ç”µé˜»","ç”µå®¹","èŠ¯ç‰‡","è¿æ¥å™¨","ä¼ æ„Ÿå™¨"].forEach(r=>{e.includes(r)&&t.materials.push(r)}),[{pattern:/æœ€è¿‘(\d+)å¤©/,type:"days"},{pattern:/æœ¬å‘¨|è¿™å‘¨/,type:"week"},{pattern:/æœ¬æœˆ|è¿™ä¸ªæœˆ/,type:"month"},{pattern:/ä»Šå¹´|æœ¬å¹´/,type:"year"}].forEach(({pattern:r,type:d})=>{const h=e.match(r);h&&t.timeRanges.push({type:d,value:h[1]||1})}),t}classifyIntent(e){const t={query:["æŸ¥è¯¢","æŸ¥çœ‹","æ˜¾ç¤º","åˆ—å‡º"],analysis:["åˆ†æ","ç»Ÿè®¡","è®¡ç®—","è¯„ä¼°"],comparison:["å¯¹æ¯”","æ¯”è¾ƒ","å·®å¼‚","åŒºåˆ«"],prediction:["é¢„æµ‹","é¢„ä¼°","è¶‹åŠ¿","æœªæ¥"],report:["æŠ¥å‘Š","æŠ¥è¡¨","æ€»ç»“","æ±‡æ€»"]};for(const[i,o]of Object.entries(t))if(o.some(a=>e.includes(a)))return i;return"general"}extractKeywords(e){const t=["çš„","æ˜¯","åœ¨","æœ‰","å’Œ","ä¸","æˆ–","ä½†","å¦‚æœ","é‚£ä¹ˆ"],i=e.split(/\s+/).filter(o=>o.length>1&&!t.includes(o));return[...new Set(i)]}calculateKeywordScores(e){const t={};for(const[i,o]of Object.entries(this.scenarioPatterns)){let a=0;const r=[];e.forEach(d=>{o.keywords.some(h=>h.includes(d)||d.includes(h))&&(a+=1,r.push(d))}),t[i]={score:a/Math.max(e.length,1),matchedKeywords:r,weight:.4}}return t}calculateEntityScores(e){const t={};for(const[i,o]of Object.entries(this.scenarioPatterns)){let a=0;const r=[];e.factories.length>0&&o.entities.includes("factory")&&(a+=.3,r.push("factory")),e.materials.length>0&&o.entities.includes("materialCode")&&(a+=.3,r.push("material")),t[i]={score:a,matchedEntities:r,weight:.3}}return t}calculateIntentScores(e){const i={query:{inventory:.8,quality:.6,production:.5},analysis:{quality:.9,production:.8,inventory:.7},comparison:{quality:.8,production:.7,inventory:.6},prediction:{production:.9,quality:.7,inventory:.6},report:{quality:.8,production:.8,inventory:.7}}[e]||{},o={};for(const a of Object.keys(this.scenarioPatterns))o[a]={score:i[a]||.1,intent:e,weight:.3};return o}combineScores(e,t,i){const o={};for(const a of Object.keys(this.scenarioPatterns)){const r=e[a]||{score:0,weight:.4},d=t[a]||{score:0,weight:.3},h=i[a]||{score:0,weight:.3},u=r.score*r.weight+d.score*d.weight+h.score*h.weight;o[a]={scenarioId:a,totalScore:u,confidence:Math.min(u,1),breakdown:{keyword:r,entity:d,intent:h}}}return o}determinePrimaryScenario(e){const t=Object.values(e);return t.sort((i,o)=>o.confidence-i.confidence),t[0]||{scenarioId:"general",confidence:0,totalScore:0}}generateScenarioReasoning(e,t,i){var r,d,h,u,y,I,O,V;const o=this.determinePrimaryScenario(e),a=[];return((h=(d=(r=o.breakdown)==null?void 0:r.keyword)==null?void 0:d.matchedKeywords)==null?void 0:h.length)>0&&a.push(`å…³é”®è¯åŒ¹é…: ${o.breakdown.keyword.matchedKeywords.join(", ")}`),((I=(y=(u=o.breakdown)==null?void 0:u.entity)==null?void 0:y.matchedEntities)==null?void 0:I.length)>0&&a.push(`å®ä½“è¯†åˆ«: ${o.breakdown.entity.matchedEntities.join(", ")}`),(V=(O=o.breakdown)==null?void 0:O.intent)!=null&&V.intent&&a.push(`æ„å›¾ç±»å‹: ${o.breakdown.intent.intent}`),a.join("; ")}calculateRuleMatchScore(e,t){const{cleaned:i,keywords:o}=t;let a=0;e.pattern&&e.pattern.test(i)&&(a+=.6);const r=e.name.toLowerCase().split(/\s+/),d=o.filter(h=>r.some(u=>u.includes(h)||h.includes(u)));return d.length>0&&(a+=.4*(d.length/Math.max(r.length,o.length))),Math.min(a,1)}generateMatchReason(e,t){const i=[];e.pattern&&e.pattern.test(t.cleaned)&&i.push("æ¨¡å¼åŒ¹é…");const o=e.name.toLowerCase().split(/\s+/),a=t.keywords.filter(r=>o.some(d=>d.includes(r)||r.includes(d)));return a.length>0&&i.push(`å…³é”®è¯åŒ¹é…: ${a.join(", ")}`),i.join("; ")}assessQuestionComplexity(e){const{keywords:t,entities:i}=e;let o="simple";return(t.length>5||Object.values(i).some(a=>a.length>2))&&(o="medium"),(t.length>10||Object.values(i).some(a=>a.length>5))&&(o="complex"),o}assessUrgency(e){const t=["ç´§æ€¥","ç«‹å³","é©¬ä¸Š","æ€¥éœ€","é‡è¦"],{cleaned:i}=e;return t.some(o=>i.includes(o))?"high":"normal"}identifyDataRequirements(e,t){const i=[];return e.factories.length>0&&i.push("factory_data"),e.materials.length>0&&i.push("material_data"),e.timeRanges.length>0&&i.push("time_series_data"),t.primaryScenario.scenarioId==="quality"&&i.push("quality_metrics"),i}determineOptimalResponseFormat(e,t){return{query:"structured_list",analysis:"detailed_analysis",comparison:"comparison_table",prediction:"trend_chart",report:"comprehensive_report"}[e]||"general_response"}estimateUserExpertise(e){const t=["åˆæ ¼ç‡","ä¸è‰¯ç‡","cpk","spc","å…­è¥¿æ ¼ç›","è´¨é‡æ§åˆ¶"],{cleaned:i}=e,o=t.filter(a=>i.includes(a)).length;return o>=2?"expert":o>=1?"intermediate":"beginner"}determineAdvancedStrategy(e,t,i){return t.hasRules&&t.confidence>.8?"rule_based":e.confidence>.7?"scenario_guided":i.complexity==="complex"?"ai_enhanced":"ai_generated"}generateEnhancedResponse(e,t,i){if(!e.hasRules||e.matchedRules.length===0)return null;let a=e.matchedRules[0].response;return i.userExpertise==="expert"?a+=`

æŠ€æœ¯ç»†èŠ‚: åŸºäºä¸“ä¸šè´¨é‡ç®¡ç†æ ‡å‡†è¿›è¡Œæ·±åº¦åˆ†æã€‚`:i.userExpertise==="beginner"&&(a+=`

è¯´æ˜: ä»¥ä¸‹æ˜¯åŸºç¡€åˆ†æç»“æœï¼Œå¦‚éœ€è¯¦ç»†è§£é‡Šè¯·å‘ŠçŸ¥ã€‚`),i.urgency==="high"&&(a="âš ï¸ ç´§æ€¥å“åº”: "+a),a}}const B=new ue,de={class:"scenario-management"},pe={class:"page-header"},me={class:"header-content"},he={class:"header-left"},ye={class:"stats-bar"},fe={class:"stat-item"},ge={class:"stat-content"},ve={class:"stat-value"},_e={class:"stat-item"},Se={class:"stat-content"},we={class:"stat-value"},be={class:"stat-item"},ke={class:"stat-content"},Re={class:"stat-value"},Ce={class:"header-actions"},xe={class:"current-scenario"},Ve={class:"scenario-status"},Pe={class:"status-info"},Ee={class:"status-badge"},Me={class:"status-icon"},De={class:"status-name"},Ie={class:"status-actions"},Oe={class:"design-workspace"},qe={class:"design-category"},$e={class:"category-header"},je={class:"category-count"},Fe={class:"scenario-designer-grid"},Ue={class:"design-preview"},ze={class:"preview-header"},Ae={class:"scenario-icon"},Te={class:"scenario-info"},Ke={class:"scenario-name"},Le={class:"scenario-desc"},Ne={class:"scenario-status"},Be={class:"config-overview"},Qe={class:"config-item"},Je={class:"config-value"},We={class:"config-item"},Xe={class:"config-value"},Ge={class:"config-item"},He={class:"config-value"},Ye={class:"rules-stats"},Ze={class:"stat-item"},et={class:"stat-number"},tt={class:"stat-item"},st={class:"stat-number"},nt={class:"design-actions"},at={class:"scenario-designer"},ot={class:"design-section"},it={class:"form-grid"},rt={class:"design-section"},lt={class:"form-grid"},ct={class:"slider-container"},ut={class:"slider-desc"},dt={class:"design-section"},pt={class:"prompt-editor"},mt={class:"design-section"},ht={class:"section-title"},yt={class:"rules-list"},ft={class:"rule-header"},gt={class:"rule-content"},vt={key:0,class:"empty-rules"},_t={class:"dialog-footer"},St={__name:"AIScenarioManagementSimple",setup(F){const e=w([]),t=w({}),i=w(""),o=w(null),a=w(null);w(!1);const r=w(!1),d=w(!1),h=w(!1),u=w({name:"",icon:"ğŸ¯",description:"",thinkingStyle:"systematic",analysisDepth:"standard",responseFormat:"structured",temperature:.7,systemPrompt:"",rules:[]}),y=w([{value:"ğŸ¯",label:"ç›®æ ‡å¯¼å‘"},{value:"ğŸ”",label:"åˆ†æè°ƒç ”"},{value:"ğŸ“Š",label:"æ•°æ®åˆ†æ"},{value:"âš™ï¸",label:"æµç¨‹ä¼˜åŒ–"},{value:"ğŸ§ ",label:"æ™ºèƒ½å†³ç­–"},{value:"ğŸ“ˆ",label:"è¶‹åŠ¿é¢„æµ‹"},{value:"ğŸ”§",label:"é—®é¢˜è§£å†³"},{value:"ğŸ’¡",label:"åˆ›æ–°æ€ç»´"}]),I=L(()=>e.value),O=L(()=>B.getRuleStatistics().total),V=()=>{e.value=S.getAllScenarios(),t.value=S.getCurrentScenario(),i.value=t.value.id},Q=p=>{S.setCurrentScenario(p)&&(t.value=S.getCurrentScenario(),S.saveToStorage(),R.success(`å·²åˆ‡æ¢åˆ°åœºæ™¯ï¼š${t.value.name}`),V())},J=()=>{d.value=!0},W=p=>B.getScenarioRules(p).length,X=p=>{a.value={...p},u.value={name:p.name||"",icon:p.icon||"ğŸ¯",description:p.description||"",thinkingStyle:p.thinkingStyle||"systematic",analysisDepth:p.analysisDepth||"standard",responseFormat:p.responseFormat||"structured",temperature:p.temperature||.7,systemPrompt:p.systemPrompt||"",rules:p.rules?[...p.rules]:[]},r.value=!0},G=p=>{S.setCurrentScenario(p.id)&&(t.value=S.getCurrentScenario(),S.saveToStorage(),R.success(`å·²æ¿€æ´»åœºæ™¯ï¼š${p.name}`),V())},H=p=>{o.value=p,d.value=!0},Y=()=>{u.value.rules.push({name:"",pattern:"",response:""})},Z=p=>{u.value.rules.splice(p,1)},ee=p=>`${p} (${U(p)})`,U=p=>p<=.3?"ä¿å®ˆç¨³å®š":p<=.5?"å¹³è¡¡é€‚ä¸­":p<=.7?"çµæ´»åˆ›æ–°":"é«˜åº¦åˆ›é€ ",te=()=>{console.log("é¢„è§ˆåœºæ™¯é…ç½®:",u.value),R.info("åœºæ™¯é¢„è§ˆåŠŸèƒ½å¼€å‘ä¸­...")},se=()=>{var p,n;if(!u.value.name.trim()){R.error("è¯·è¾“å…¥åœºæ™¯åç§°");return}if(!u.value.description.trim()){R.error("è¯·è¾“å…¥åœºæ™¯æè¿°");return}if(!u.value.systemPrompt.trim()){R.error("è¯·è¾“å…¥ç³»ç»Ÿæç¤ºè¯");return}try{const g={id:((p=a.value)==null?void 0:p.id)||`scenario_${Date.now()}`,...u.value,isCustom:!0,createdAt:((n=a.value)==null?void 0:n.createdAt)||Date.now(),updatedAt:Date.now()};a.value?(S.updateScenario(g.id,g),R.success("åœºæ™¯æ›´æ–°æˆåŠŸ")):(S.addScenario(g),R.success("åœºæ™¯åˆ›å»ºæˆåŠŸ")),S.saveToStorage(),V(),r.value=!1,ne()}catch(g){console.error("ä¿å­˜åœºæ™¯å¤±è´¥:",g),R.error("ä¿å­˜åœºæ™¯å¤±è´¥")}},ne=()=>{u.value={name:"",icon:"ğŸ¯",description:"",thinkingStyle:"systematic",analysisDepth:"standard",responseFormat:"structured",temperature:.7,systemPrompt:"",rules:[]},a.value=null};return re(()=>{console.log("ğŸ­ AIåœºæ™¯ç®¡ç†é¡µé¢å·²åŠ è½½"),S.loadFromStorage(),V()}),(p,n)=>{var A,T,K;const g=x("el-button"),_=x("el-option"),M=x("el-select"),ae=x("el-tag"),P=x("el-input"),k=x("el-form-item"),oe=x("el-slider"),z=x("el-dialog");return b(),C("div",de,[s("div",pe,[s("div",me,[s("div",he,[n[20]||(n[20]=s("h1",{class:"page-title"},[s("span",{class:"title-icon"},"ğŸ­"),v(" AIåœºæ™¯ç®¡ç† ")],-1)),n[21]||(n[21]=s("p",{class:"page-description"},"è®¾è®¡å’Œé…ç½®æ™ºèƒ½åœºæ™¯ï¼Œå®šä¹‰AIåŠ©æ‰‹åœ¨ä¸åŒä¸šåŠ¡åœºæ™¯ä¸‹çš„è¡Œä¸ºæ¨¡å¼ã€åˆ†æç­–ç•¥å’Œå“åº”è§„åˆ™",-1)),s("div",ye,[s("div",fe,[n[15]||(n[15]=s("span",{class:"stat-icon"},"ğŸ“Š",-1)),s("div",ge,[n[14]||(n[14]=s("span",{class:"stat-label"},"æ€»åœºæ™¯æ•°",-1)),s("span",ve,f(I.value.length),1)])]),s("div",_e,[n[17]||(n[17]=s("span",{class:"stat-icon"},"âš¡",-1)),s("div",Se,[n[16]||(n[16]=s("span",{class:"stat-label"},"æ´»è·ƒåœºæ™¯",-1)),s("span",we,f(((A=t.value)==null?void 0:A.name)||"æ— "),1)])]),s("div",be,[n[19]||(n[19]=s("span",{class:"stat-icon"},"ğŸ“‹",-1)),s("div",ke,[n[18]||(n[18]=s("span",{class:"stat-label"},"æ€»è§„åˆ™æ•°",-1)),s("span",Re,f(O.value),1)])])])]),s("div",Ce,[c(g,{type:"primary",onClick:n[0]||(n[0]=l=>r.value=!0)},{default:m(()=>n[22]||(n[22]=[s("span",{class:"button-icon"},"ğŸ¨",-1),v(" è®¾è®¡æ–°åœºæ™¯ ")])),_:1,__:[22]}),c(g,{onClick:n[1]||(n[1]=l=>h.value=!0)},{default:m(()=>n[23]||(n[23]=[s("span",{class:"button-icon"},"âš™ï¸",-1),v(" è§„åˆ™è®¾è®¡å™¨ ")])),_:1,__:[23]}),c(g,{onClick:J},{default:m(()=>n[24]||(n[24]=[s("span",{class:"button-icon"},"ğŸ§ª",-1),v(" æµ‹è¯•éªŒè¯ ")])),_:1,__:[24]})])])]),s("div",xe,[s("div",Ve,[s("div",Pe,[n[25]||(n[25]=s("span",{class:"status-label"},"å½“å‰æ¿€æ´»åœºæ™¯:",-1)),s("div",Ee,[s("span",Me,f(((T=t.value)==null?void 0:T.icon)||"ğŸ¤–"),1),s("span",De,f(((K=t.value)==null?void 0:K.name)||"æœªé€‰æ‹©"),1)])]),s("div",Ie,[c(M,{modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=l=>i.value=l),onChange:Q,placeholder:"åˆ‡æ¢åœºæ™¯",style:{width:"200px"}},{default:m(()=>[(b(!0),C(q,null,$(e.value,l=>(b(),j(_,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])]),s("div",Oe,[s("div",qe,[s("div",$e,[n[26]||(n[26]=s("span",{class:"category-icon"},"ğŸ¯",-1)),n[27]||(n[27]=s("h3",{class:"category-name"},"ä¸šåŠ¡åœºæ™¯",-1)),s("span",je,f(e.value.length)+"ä¸ªåœºæ™¯",1)]),s("div",Fe,[(b(!0),C(q,null,$(e.value,l=>(b(),C("div",{key:l.id,class:le(["scenario-designer-card",{active:l.id===t.value.id,custom:l.isCustom}])},[s("div",Ue,[s("div",ze,[s("span",Ae,f(l.icon),1),s("div",Te,[s("h4",Ke,f(l.name),1),s("p",Le,f(l.description),1)]),s("div",Ne,[c(ae,{type:l.id===t.value.id?"success":"info",size:"small"},{default:m(()=>[v(f(l.id===t.value.id?"æ¿€æ´»ä¸­":"å¾…ç”¨"),1)]),_:2},1032,["type"])])]),s("div",Be,[s("div",Qe,[n[28]||(n[28]=s("span",{class:"config-label"},"æ€è€ƒæ–¹å¼:",-1)),s("span",Je,f(l.thinkingStyle),1)]),s("div",We,[n[29]||(n[29]=s("span",{class:"config-label"},"åˆ†ææ·±åº¦:",-1)),s("span",Xe,f(l.analysisDepth),1)]),s("div",Ge,[n[30]||(n[30]=s("span",{class:"config-label"},"å“åº”æ ¼å¼:",-1)),s("span",He,f(l.responseFormat),1)])]),s("div",Ye,[s("div",Ze,[s("span",et,f(W(l.id)),1),n[31]||(n[31]=s("span",{class:"stat-label"},"ä¸šåŠ¡è§„åˆ™",-1))]),s("div",tt,[s("span",st,f(l.temperature||.7),1),n[32]||(n[32]=s("span",{class:"stat-label"},"åˆ›é€ æ€§",-1))])])]),s("div",nt,[c(g,{size:"small",type:"primary",onClick:D=>X(l)},{default:m(()=>n[33]||(n[33]=[s("span",{class:"action-icon"},"ğŸ¨",-1),v(" è®¾è®¡é…ç½® ")])),_:2,__:[33]},1032,["onClick"]),l.id!==t.value.id?(b(),j(g,{key:0,size:"small",onClick:D=>G(l)},{default:m(()=>n[34]||(n[34]=[s("span",{class:"action-icon"},"âš¡",-1),v(" æ¿€æ´» ")])),_:2,__:[34]},1032,["onClick"])):N("",!0),c(g,{size:"small",onClick:D=>H(l)},{default:m(()=>n[35]||(n[35]=[s("span",{class:"action-icon"},"ğŸ§ª",-1),v(" æµ‹è¯• ")])),_:2,__:[35]},1032,["onClick"])])],2))),128))])])]),c(z,{modelValue:r.value,"onUpdate:modelValue":n[12]||(n[12]=l=>r.value=l),title:a.value?"ç¼–è¾‘åœºæ™¯é…ç½®":"è®¾è®¡æ–°åœºæ™¯",width:"800px",class:"scenario-design-dialog"},{footer:m(()=>[s("div",_t,[c(g,{onClick:n[11]||(n[11]=l=>r.value=!1)},{default:m(()=>n[45]||(n[45]=[v("å–æ¶ˆ")])),_:1,__:[45]}),c(g,{onClick:te,icon:"View"},{default:m(()=>n[46]||(n[46]=[v("é¢„è§ˆæ•ˆæœ")])),_:1,__:[46]}),c(g,{type:"primary",onClick:se,icon:"Check"},{default:m(()=>[v(f(a.value?"ä¿å­˜ä¿®æ”¹":"åˆ›å»ºåœºæ™¯"),1)]),_:1})])]),default:m(()=>[s("div",at,[s("div",ot,[n[36]||(n[36]=s("h4",{class:"section-title"},[s("span",{class:"section-icon"},"ğŸ“‹"),v(" åŸºç¡€ä¿¡æ¯ ")],-1)),s("div",it,[c(k,{label:"åœºæ™¯åç§°"},{default:m(()=>[c(P,{modelValue:u.value.name,"onUpdate:modelValue":n[3]||(n[3]=l=>u.value.name=l),placeholder:"è¯·è¾“å…¥åœºæ™¯åç§°",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1}),c(k,{label:"åœºæ™¯å›¾æ ‡"},{default:m(()=>[c(M,{modelValue:u.value.icon,"onUpdate:modelValue":n[4]||(n[4]=l=>u.value.icon=l),placeholder:"é€‰æ‹©å›¾æ ‡"},{default:m(()=>[(b(!0),C(q,null,$(y.value,l=>(b(),j(_,{key:l.value,label:l.label,value:l.value},{default:m(()=>[s("span",null,f(l.value)+" "+f(l.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),c(k,{label:"åœºæ™¯æè¿°",class:"full-width"},{default:m(()=>[c(P,{modelValue:u.value.description,"onUpdate:modelValue":n[5]||(n[5]=l=>u.value.description=l),type:"textarea",rows:3,placeholder:"è¯·æè¿°è¯¥åœºæ™¯çš„åº”ç”¨èŒƒå›´å’Œç‰¹ç‚¹",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})])]),s("div",rt,[n[37]||(n[37]=s("h4",{class:"section-title"},[s("span",{class:"section-icon"},"ğŸ§ "),v(" AIè¡Œä¸ºé…ç½® ")],-1)),s("div",lt,[c(k,{label:"æ€è€ƒæ–¹å¼"},{default:m(()=>[c(M,{modelValue:u.value.thinkingStyle,"onUpdate:modelValue":n[6]||(n[6]=l=>u.value.thinkingStyle=l),placeholder:"é€‰æ‹©æ€è€ƒæ–¹å¼"},{default:m(()=>[c(_,{label:"é€»è¾‘åˆ†æ",value:"logical"}),c(_,{label:"åˆ›æ–°æ€ç»´",value:"creative"}),c(_,{label:"ç³»ç»Ÿæ€è€ƒ",value:"systematic"}),c(_,{label:"æ‰¹åˆ¤æ€§æ€ç»´",value:"critical"})]),_:1},8,["modelValue"])]),_:1}),c(k,{label:"åˆ†ææ·±åº¦"},{default:m(()=>[c(M,{modelValue:u.value.analysisDepth,"onUpdate:modelValue":n[7]||(n[7]=l=>u.value.analysisDepth=l),placeholder:"é€‰æ‹©åˆ†ææ·±åº¦"},{default:m(()=>[c(_,{label:"å¿«é€Ÿæ¦‚è§ˆ",value:"quick"}),c(_,{label:"æ ‡å‡†åˆ†æ",value:"standard"}),c(_,{label:"æ·±åº¦åˆ†æ",value:"deep"}),c(_,{label:"ä¸“å®¶çº§åˆ†æ",value:"expert"})]),_:1},8,["modelValue"])]),_:1}),c(k,{label:"å“åº”æ ¼å¼"},{default:m(()=>[c(M,{modelValue:u.value.responseFormat,"onUpdate:modelValue":n[8]||(n[8]=l=>u.value.responseFormat=l),placeholder:"é€‰æ‹©å“åº”æ ¼å¼"},{default:m(()=>[c(_,{label:"ç»“æ„åŒ–æŠ¥å‘Š",value:"structured"}),c(_,{label:"å¯¹è¯å¼å›ç­”",value:"conversational"}),c(_,{label:"è¦ç‚¹æ€»ç»“",value:"bullet_points"}),c(_,{label:"å›¾è¡¨å±•ç¤º",value:"visual"})]),_:1},8,["modelValue"])]),_:1}),c(k,{label:"åˆ›é€ æ€§å‚æ•°"},{default:m(()=>[s("div",ct,[c(oe,{modelValue:u.value.temperature,"onUpdate:modelValue":n[9]||(n[9]=l=>u.value.temperature=l),min:0,max:1,step:.1,"show-tooltip":"","format-tooltip":ee},null,8,["modelValue"]),s("span",ut,f(U(u.value.temperature)),1)])]),_:1})])]),s("div",dt,[n[39]||(n[39]=s("h4",{class:"section-title"},[s("span",{class:"section-icon"},"ğŸ’¬"),v(" ç³»ç»Ÿæç¤ºè¯ ")],-1)),s("div",pt,[c(P,{modelValue:u.value.systemPrompt,"onUpdate:modelValue":n[10]||(n[10]=l=>u.value.systemPrompt=l),type:"textarea",rows:6,placeholder:"è¯·è¾“å…¥ç³»ç»Ÿæç¤ºè¯ï¼Œå®šä¹‰AIåœ¨è¯¥åœºæ™¯ä¸‹çš„è§’è‰²å’Œè¡Œä¸º...",maxlength:"1000","show-word-limit":""},null,8,["modelValue"]),n[38]||(n[38]=s("div",{class:"prompt-tips"},[s("div",{class:"tip-item"},[s("span",{class:"tip-icon"},"ğŸ’¡"),s("span",{class:"tip-text"},"æç¤ºè¯åº”è¯¥æ˜ç¡®å®šä¹‰AIçš„è§’è‰²ã€ä¸“ä¸šé¢†åŸŸå’Œå›ç­”é£æ ¼")]),s("div",{class:"tip-item"},[s("span",{class:"tip-icon"},"ğŸ“"),s("span",{class:"tip-text"},"å¯ä»¥åŒ…å«å…·ä½“çš„åˆ†ææ¡†æ¶ã€æ–¹æ³•è®ºå’Œè¾“å‡ºè¦æ±‚")])],-1))])]),s("div",mt,[s("h4",ht,[n[41]||(n[41]=s("span",{class:"section-icon"},"âš™ï¸",-1)),n[42]||(n[42]=v(" ä¸šåŠ¡è§„åˆ™ ")),c(g,{size:"small",type:"primary",onClick:Y},{default:m(()=>n[40]||(n[40]=[s("span",{class:"button-icon"},"â•",-1),v(" æ·»åŠ è§„åˆ™ ")])),_:1,__:[40]})]),s("div",yt,[(b(!0),C(q,null,$(u.value.rules,(l,D)=>(b(),C("div",{key:D,class:"rule-item"},[s("div",ft,[c(P,{modelValue:l.name,"onUpdate:modelValue":E=>l.name=E,placeholder:"è§„åˆ™åç§°",size:"small",style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"]),c(g,{size:"small",type:"danger",onClick:E=>Z(D),icon:"Delete"},{default:m(()=>n[43]||(n[43]=[v(" åˆ é™¤ ")])),_:2,__:[43]},1032,["onClick"])]),s("div",gt,[c(k,{label:"è§¦å‘æ¡ä»¶"},{default:m(()=>[c(P,{modelValue:l.pattern,"onUpdate:modelValue":E=>l.pattern=E,placeholder:"è¾“å…¥å…³é”®è¯æˆ–æ­£åˆ™è¡¨è¾¾å¼"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),c(k,{label:"å›ç­”æ¨¡æ¿"},{default:m(()=>[c(P,{modelValue:l.response,"onUpdate:modelValue":E=>l.response=E,type:"textarea",rows:3,placeholder:"å®šä¹‰è¯¥è§„åˆ™çš„æ ‡å‡†å›ç­”æ¨¡æ¿..."},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]))),128)),u.value.rules.length===0?(b(),C("div",vt,n[44]||(n[44]=[s("span",{class:"empty-icon"},"ğŸ“‹",-1),s("span",{class:"empty-text"},'æš‚æ— ä¸šåŠ¡è§„åˆ™ï¼Œç‚¹å‡»"æ·»åŠ è§„åˆ™"å¼€å§‹é…ç½®',-1)]))):N("",!0)])])])]),_:1},8,["modelValue","title"]),c(z,{modelValue:d.value,"onUpdate:modelValue":n[13]||(n[13]=l=>d.value=l),title:"åœºæ™¯æµ‹è¯•",width:"700px"},{default:m(()=>n[47]||(n[47]=[s("div",{class:"test-content"},[s("p",null,"åœºæ™¯æµ‹è¯•åŠŸèƒ½å¼€å‘ä¸­...")],-1)])),_:1,__:[47]},8,["modelValue"])])}}},Rt=ie(St,[["__scopeId","data-v-68982290"]]);export{Rt as default};
