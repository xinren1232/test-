import{S as r,c as a,o as i,a as t,b as y,t as l,F as f,r as w,M as T,Z as D,_ as $,n as b}from"./element-plus-DR-erZ3X.js";import{a as C}from"./index-Bo1zM2q5.js";import"./echarts-Dfqt_Pbx.js";const S={class:"ai-assistant-minimal"},P={class:"main-content"},B={class:"left-panel"},L={class:"tool-list"},V={key:0,class:"selected-tool"},x={class:"center-panel"},z={class:"chat-container"},E={class:"messages"},F={class:"message-content"},K={class:"message-time"},N={class:"input-area"},Q=["disabled"],j=["disabled"],O={class:"right-panel"},R={class:"thinking-container"},U={key:0,class:"thinking-indicator"},Z={class:"thinking-steps"},G={class:"step-number"},H={class:"step-content"},J={class:"step-title"},W={class:"step-description"},X={key:0,class:"step-details"},Y={__name:"AssistantPageAIMinimal",setup(q){const u=r([{type:"assistant",content:"您好！我是IQE AI智能助手最小化版本，用于测试基本功能。",timestamp:new Date}]),d=r(""),o=r(!1),p=r(null),c=r([]),m=e=>{p.value=e,console.log("选择工具:",e)},k=async()=>{if(!d.value.trim()||o.value)return;const e=d.value.trim();u.value.push({type:"user",content:e,timestamp:new Date}),d.value="",o.value=!0,c.value=[];try{await A(e),u.value.push({type:"assistant",content:I(e),timestamp:new Date})}catch(s){console.error("处理消息失败:",s),u.value.push({type:"assistant",content:"抱歉，处理您的请求时出现了错误。",timestamp:new Date})}finally{o.value=!1}},A=async e=>{_("问题分析","正在分析用户问题的意图和类型...",!0),await g(800),h(0,{completed:!0,details:"识别为查询类问题"}),_("数据查询","正在查询相关数据源...",!0),await g(1200),h(1,{completed:!0,details:"查询到相关数据"}),_("结果生成","正在生成回答...",!0),await g(1e3),h(2,{completed:!0,details:"回答生成完成"})},_=(e,s,n=!1)=>{c.value.push({title:e,description:s,active:n,completed:!1,details:null})},h=(e,s)=>{c.value[e]&&Object.assign(c.value[e],s)},I=e=>{const s=[`我理解您的问题："${e}"。这是一个测试回复。`,`关于"${e}"，我已经为您分析了相关信息。`,`根据您的问题"${e}"，我建议您查看相关数据。`,`针对"${e}"这个问题，我可以为您提供以下建议...`];return s[Math.floor(Math.random()*s.length)]},M=e=>new Date(e).toLocaleTimeString(),g=e=>new Promise(s=>setTimeout(s,e));return(e,s)=>(i(),a("div",S,[s[8]||(s[8]=t("div",{class:"header"},[t("h1",null,"🤖 AI助手 - 最小化版本"),t("p",null,"用于测试和调试的最小化版本")],-1)),t("div",P,[t("div",B,[s[4]||(s[4]=t("h3",null,"🛠️ 工具面板",-1)),t("div",L,[t("div",{class:"tool-item",onClick:s[0]||(s[0]=n=>m("analyze"))}," 📊 数据分析 "),t("div",{class:"tool-item",onClick:s[1]||(s[1]=n=>m("query"))}," 🔍 查询工具 "),t("div",{class:"tool-item",onClick:s[2]||(s[2]=n=>m("chart"))}," 📈 图表生成 ")]),p.value?(i(),a("div",V,[t("h4",null,"已选择: "+l(p.value),1)])):y("",!0)]),t("div",x,[s[5]||(s[5]=t("h3",null,"💬 对话区域",-1)),t("div",z,[t("div",E,[(i(!0),a(f,null,w(u.value,(n,v)=>(i(),a("div",{key:v,class:b(["message",n.type])},[t("div",F,l(n.content),1),t("div",K,l(M(n.timestamp)),1)],2))),128))]),t("div",N,[T(t("input",{"onUpdate:modelValue":s[3]||(s[3]=n=>d.value=n),onKeyup:$(k,["enter"]),placeholder:"输入您的问题...",class:"message-input",disabled:o.value},null,40,Q),[[D,d.value]]),t("button",{onClick:k,class:"send-button",disabled:o.value||!d.value.trim()},l(o.value?"处理中...":"发送"),9,j)])])]),t("div",O,[s[7]||(s[7]=t("h3",null,"🧠 AI思考过程",-1)),t("div",R,[o.value?(i(),a("div",U,s[6]||(s[6]=[t("div",{class:"spinner"},null,-1),t("span",null,"AI正在思考...",-1)]))):y("",!0),t("div",Z,[(i(!0),a(f,null,w(c.value,(n,v)=>(i(),a("div",{key:v,class:b(["thinking-step",{active:n.active,completed:n.completed}])},[t("div",G,l(v+1),1),t("div",H,[t("div",J,l(n.title),1),t("div",W,l(n.description),1),n.details?(i(),a("div",X,l(n.details),1)):y("",!0)])],2))),128))])])])])]))}},nt=C(Y,[["__scopeId","data-v-cd3cc4d2"]]);export{nt as default};
