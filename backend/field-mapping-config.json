{
  "timestamp": "2025-07-18T02:43:30.249Z",
  "description": "基于实际业务场景的字段映射配置",
  "mappings": {
    "inventory": {
      "selectClause": "SUBSTRING_INDEX(storage_location, '-', 1) as `工厂`, CONCAT(SUBSTRING_INDEX(storage_location, '-', 1), '库存') as `仓库`, material_code as `物料编码`, material_name as `物料名称`, material_type as `物料类型`, supplier_name as `供应商`, batch_code as `批次号`, quantity as `数量`, status as `状态`, DATE_FORMAT(inbound_time, '%Y-%m-%d') as `入库时间`, DATE_FORMAT(updated_at, '%Y-%m-%d') as `到期时间`, notes as `备注`",
      "tableName": "inventory",
      "displayFields": [
        "工厂",
        "仓库",
        "物料编码",
        "物料名称",
        "物料类型",
        "供应商",
        "批次号",
        "数量",
        "状态",
        "入库时间",
        "到期时间",
        "备注"
      ]
    },
    "inspection": {
      "selectClause": "test_id as `测试编号`, DATE_FORMAT(test_date, '%Y-%m-%d') as `日期`, COALESCE(project_id, '项目A') as `项目`, COALESCE(baseline_id, '基线1.0') as `基线`, material_code as `物料编码`, material_name as `物料名称`, material_type as `物料类型`, supplier_name as `供应商`, batch_code as `批次号`, COALESCE(quantity, 1) as `数量`, test_result as `测试结果`, COALESCE(defect_desc, '') as `不合格描述`, conclusion as `结论`, notes as `备注`",
      "tableName": "lab_tests",
      "displayFields": [
        "测试编号",
        "日期",
        "项目",
        "基线",
        "物料编码",
        "物料名称",
        "物料类型",
        "供应商",
        "批次号",
        "数量",
        "测试结果",
        "不合格描述",
        "结论",
        "备注"
      ]
    },
    "production": {
      "selectClause": "factory as `工厂`, project as `基线`, project as `项目`, material_code as `物料编码`, material_name as `物料名称`, material_type as `物料类型`, supplier_name as `供应商`, batch_code as `批次号`, line as `产线`, workshop as `车间`, CONCAT(ROUND(defect_rate * 100, 2), '%') as `不良率`, COALESCE(exception_count, 0) as `本周异常`, DATE_FORMAT(inspection_date, '%Y-%m-%d') as `检验日期`, DATE_FORMAT(use_time, '%Y-%m-%d') as `使用时间`, notes as `备注`",
      "tableName": "online_tracking",
      "displayFields": [
        "工厂",
        "基线",
        "项目",
        "物料编码",
        "物料名称",
        "物料类型",
        "供应商",
        "批次号",
        "产线",
        "车间",
        "不良率",
        "本周异常",
        "检验日期",
        "使用时间",
        "备注"
      ]
    }
  },
  "correctFieldMappings": {
    "inventory": {
      "displayName": "库存管理",
      "fields": {
        "工厂": "factory",
        "仓库": "warehouse",
        "物料编码": "material_code",
        "物料名称": "material_name",
        "物料类型": "material_type",
        "供应商": "supplier_name",
        "批次号": "batch_code",
        "数量": "quantity",
        "状态": "status",
        "入库时间": "inbound_time",
        "到期时间": "updated_at",
        "备注": "notes"
      },
      "specialMappings": {
        "工厂": "SUBSTRING_INDEX(storage_location, '-', 1)",
        "仓库": "CONCAT(SUBSTRING_INDEX(storage_location, '-', 1), '库存')",
        "入库时间": "DATE_FORMAT(inbound_time, '%Y-%m-%d')",
        "到期时间": "DATE_FORMAT(updated_at, '%Y-%m-%d')"
      }
    },
    "inspection": {
      "displayName": "检验管理",
      "fields": {
        "测试编号": "test_id",
        "日期": "test_date",
        "项目": "project_id",
        "基线": "baseline_id",
        "物料编码": "material_code",
        "物料名称": "material_name",
        "物料类型": "material_type",
        "供应商": "supplier_name",
        "批次号": "batch_code",
        "数量": "quantity",
        "测试结果": "test_result",
        "不合格描述": "defect_desc",
        "结论": "conclusion",
        "备注": "notes"
      },
      "specialMappings": {
        "日期": "DATE_FORMAT(test_date, '%Y-%m-%d')",
        "项目": "COALESCE(project_id, '项目A')",
        "基线": "COALESCE(baseline_id, '基线1.0')",
        "数量": "COALESCE(quantity, 1)",
        "不合格描述": "COALESCE(defect_desc, '')"
      }
    },
    "production": {
      "displayName": "生产管理",
      "fields": {
        "工厂": "factory",
        "基线": "project",
        "项目": "project",
        "物料编码": "material_code",
        "物料名称": "material_name",
        "物料类型": "material_type",
        "供应商": "supplier_name",
        "批次号": "batch_code",
        "产线": "line",
        "车间": "workshop",
        "不良率": "defect_rate",
        "本周异常": "exception_count",
        "检验日期": "inspection_date",
        "使用时间": "use_time",
        "备注": "notes"
      },
      "specialMappings": {
        "不良率": "CONCAT(ROUND(defect_rate * 100, 2), '%')",
        "本周异常": "COALESCE(exception_count, 0)",
        "检验日期": "DATE_FORMAT(inspection_date, '%Y-%m-%d')",
        "使用时间": "DATE_FORMAT(use_time, '%Y-%m-%d')"
      }
    }
  }
}