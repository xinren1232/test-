<template>
  <div class="three-column-test">
    <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
    <div class="header">
      <h2>ğŸ¯ ä¸‰æ å¸ƒå±€æµ‹è¯•é¡µé¢</h2>
      <p>éªŒè¯15%:55%:35%å¸ƒå±€æ¯”ä¾‹</p>
    </div>

    <!-- ä¸‰æ ä¸»ä½“å¸ƒå±€ -->
    <div class="layout-container">
      <!-- å·¦ä¾§é¢æ¿ - 15% -->
      <div class="left-column">
        <div class="panel-header">
          <h3>ğŸ› ï¸ å·¦ä¾§å·¥å…·é¢æ¿</h3>
          <p>å®½åº¦: 15%</p>
        </div>
        <div class="panel-content">
          <div class="tool-item">ğŸ“Š æ•°æ®åˆ†æå·¥å…·</div>
          <div class="tool-item">ğŸ“ˆ å›¾è¡¨ç”Ÿæˆå™¨</div>
          <div class="tool-item">ğŸ” æŸ¥è¯¢æ„å»ºå™¨</div>
          <div class="tool-item">ğŸ“‹ æŠ¥å‘Šç”Ÿæˆå™¨</div>
          <div class="tool-item">âš™ï¸ ç³»ç»Ÿè®¾ç½®</div>
        </div>
      </div>

      <!-- ä¸­é—´é¢æ¿ - 55% -->
      <div class="center-column">
        <div class="panel-header">
          <h3>ğŸ’¬ ä¸­é—´å¯¹è¯é¢æ¿</h3>
          <p>å®½åº¦: 55%</p>
        </div>
        <div class="panel-content">
          <div class="chat-area">
            <div class="message user-message">
              <div class="message-content">
                <strong>ç”¨æˆ·:</strong> åˆ†æå½“å‰åº“å­˜çŠ¶æ€
              </div>
            </div>
            <div class="message ai-message">
              <div class="message-content">
                <strong>AIåŠ©æ‰‹:</strong> æ­£åœ¨ä¸ºæ‚¨åˆ†æåº“å­˜çŠ¶æ€...
              </div>
            </div>
          </div>
          <div class="input-area">
            <input type="text" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..." class="message-input">
            <button class="send-button">å‘é€</button>
          </div>
        </div>
      </div>

      <!-- å³ä¾§é¢æ¿ - 35% -->
      <div class="right-column">
        <div class="panel-header">
          <h3>ğŸ§  å³ä¾§æ€è€ƒé¢æ¿</h3>
          <p>å®½åº¦: 35%</p>
        </div>
        <div class="panel-content">
          <div class="thinking-step">
            <div class="step-title">ğŸ” æ­¥éª¤1: é—®é¢˜åˆ†æ</div>
            <div class="step-content">æ­£åœ¨åˆ†æç”¨æˆ·é—®é¢˜çš„æ„å›¾å’Œç±»å‹...</div>
          </div>
          <div class="thinking-step">
            <div class="step-title">ğŸ“Š æ­¥éª¤2: æ•°æ®æŸ¥è¯¢</div>
            <div class="step-content">æ­£åœ¨æŸ¥è¯¢ç›¸å…³æ•°æ®æº...</div>
          </div>
          <div class="thinking-step">
            <div class="step-title">ğŸ¤– æ­¥éª¤3: AIåˆ†æ</div>
            <div class="step-content">æ­£åœ¨è¿›è¡Œæ™ºèƒ½åˆ†æ...</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { onMounted } from 'vue'

onMounted(() => {
  console.log('ğŸ¯ ä¸‰æ å¸ƒå±€æµ‹è¯•é¡µé¢å·²åŠ è½½')
  
  // æ£€æŸ¥å¸ƒå±€æ¯”ä¾‹
  setTimeout(() => {
    const container = document.querySelector('.layout-container')
    const left = document.querySelector('.left-column')
    const center = document.querySelector('.center-column')
    const right = document.querySelector('.right-column')
    
    if (container && left && center && right) {
      const containerWidth = container.offsetWidth
      const leftWidth = left.offsetWidth
      const centerWidth = center.offsetWidth
      const rightWidth = right.offsetWidth
      
      console.log('ğŸ“ å¸ƒå±€å®½åº¦æ£€æŸ¥:')
      console.log(`å®¹å™¨æ€»å®½åº¦: ${containerWidth}px`)
      console.log(`å·¦ä¾§é¢æ¿: ${leftWidth}px (${(leftWidth/containerWidth*100).toFixed(1)}%)`)
      console.log(`ä¸­é—´é¢æ¿: ${centerWidth}px (${(centerWidth/containerWidth*100).toFixed(1)}%)`)
      console.log(`å³ä¾§é¢æ¿: ${rightWidth}px (${(rightWidth/containerWidth*100).toFixed(1)}%)`)
    }
  }, 100)
})
</script>

<style scoped>
.three-column-test {
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: #f5f7fa;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 20px;
  text-align: center;
}

.header h2 {
  margin: 0 0 8px 0;
  font-size: 24px;
}

.header p {
  margin: 0;
  opacity: 0.9;
}

.layout-container {
  flex: 1;
  display: flex;
  background: #e1e5e9;
  gap: 1px;
  overflow: hidden;
}

/* å·¦ä¾§é¢æ¿ - 15% */
.left-column {
  width: 15%;
  min-width: 200px;
  background: white;
  display: flex;
  flex-direction: column;
}

/* ä¸­é—´é¢æ¿ - 55% */
.center-column {
  width: 55%;
  min-width: 400px;
  background: white;
  display: flex;
  flex-direction: column;
}

/* å³ä¾§é¢æ¿ - 35% */
.right-column {
  width: 35%;
  min-width: 300px;
  background: white;
  display: flex;
  flex-direction: column;
}

.panel-header {
  padding: 16px;
  border-bottom: 1px solid #e1e5e9;
  background: #f8f9fa;
}

.panel-header h3 {
  margin: 0 0 4px 0;
  font-size: 16px;
  color: #333;
}

.panel-header p {
  margin: 0;
  font-size: 12px;
  color: #666;
}

.panel-content {
  flex: 1;
  padding: 16px;
  overflow-y: auto;
}

.tool-item {
  padding: 8px 12px;
  margin: 4px 0;
  background: #f8f9fa;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s;
}

.tool-item:hover {
  background: #e9ecef;
}

.chat-area {
  flex: 1;
  margin-bottom: 16px;
}

.message {
  margin: 8px 0;
  padding: 12px;
  border-radius: 8px;
}

.user-message {
  background: #e3f2fd;
  margin-left: 20%;
}

.ai-message {
  background: #f3e5f5;
  margin-right: 20%;
}

.input-area {
  display: flex;
  gap: 8px;
}

.message-input {
  flex: 1;
  padding: 8px 12px;
  border: 1px solid #ddd;
  border-radius: 6px;
}

.send-button {
  padding: 8px 16px;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.thinking-step {
  margin: 12px 0;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #667eea;
}

.step-title {
  font-weight: bold;
  margin-bottom: 4px;
  color: #333;
}

.step-content {
  font-size: 14px;
  color: #666;
}
</style>
